---
title: Dataplane chart
variants: -flyte -byoc +selfmanaged -serverless
weight: 1
---

Deploys the Union dataplane components to onboard a kubernetes cluster to the Union Cloud.

## Chart info

| | |
|---|---|
| **Chart version** | 2026.2.10 |
| **App version** | 2026.2.12 |
| **Kubernetes version** | `>= 1.28.0-0` |

## Dependencies

| Repository | Name | Version |
|------------|------|---------|
| https://fluent.github.io/helm-charts | fluentbit(fluent-bit) | 0.48.9 |
| https://kubernetes-sigs.github.io/metrics-server/ | metrics-server(metrics-server) | 3.12.2 |
| https://kubernetes.github.io/ingress-nginx | ingress-nginx | 4.12.3 |
| https://nvidia.github.io/dcgm-exporter/helm-charts | dcgm-exporter | 4.7.1 |
| https://opencost.github.io/opencost-helm-chart | opencost | 1.42.0 |
| https://prometheus-community.github.io/helm-charts | prometheus(kube-prometheus-stack) | 72.9.1 |
| https://unionai.github.io/helm-charts | knative-operator(knative-operator) | 2025.5.0 |

## Values

| Key | Type | Description | Default |
|-----|------|-------------|---------|
| additionalPodAnnotations | object | Define additional pod annotations for all of the Union pods. | `{}` |
| additionalPodEnvVars | object | Define additional pod environment variables for all of the Union pods. | `{}` |
| additionalPodLabels | object | Define additional pod labels for all of the Union pods. | `{}` |
| additionalPodSpec | object | Define additional PodSpec values for all of the Union pods. | `{}` |
| clusterName | string | Cluster name should be shared with Union for proper functionality. | `"{{ .Values.global.CLUSTER_NAME }}"` |
| clusterresourcesync | object | clusterresourcesync contains the configuration information for the syncresources service. | `{"additionalVolumeMounts":[],"additionalVolumes":[],"affinity":{},"config":{"clusterResourcesPrivate":{"app":{"isServerless":false}},"cluster_resources":{"clusterName":"{{ include \"getClusterName\" . }}","customData":[{"production":[{"projectQuotaCpu":{"value":"4096"}},{"projectQuotaMemory":{"value":"2Ti"}},{"projectQuotaNvidiaGpu":{"value":"256"}},{"defaultUserRoleKey":{"value":"{{ tpl .Values.userRoleAnnotationKey . }}"}},{"defaultUserRoleValue":{"value":"{{ tpl .Values.userRoleAnnotationValue . }}"}}]},{"staging":[{"projectQuotaCpu":{"value":"4096"}},{"projectQuotaMemory":{"value":"2Ti"}},{"projectQuotaNvidiaGpu":{"value":"256"}},{"defaultUserRoleKey":{"value":"{{ tpl .Values.userRoleAnnotationKey . }}"}},{"defaultUserRoleValue":{"value":"{{ tpl .Values.userRoleAnnotationValue . }}"}}]},{"development":[{"projectQuotaCpu":{"value":"4096"}},{"projectQuotaMemory":{"value":"2Ti"}},{"projectQuotaNvidiaGpu":{"value":"256"}},{"defaultUserRoleKey":{"value":"{{ tpl .Values.userRoleAnnotationKey . }}"}},{"defaultUserRoleValue":{"value":"{{ tpl .Values.userRoleAnnotationValue . }}"}}]}],"refreshInterval":"5m","standaloneDeployment":true,"templatePath":"/etc/flyte/clusterresource/templates"},"union":{"auth":{"authorizationMetadataKey":"flyte-authorization","clientId":"{{ tpl .Values.secrets.admin.clientId . }}","clientSecretLocation":"/etc/union/secret/client_secret","tokenRefreshWindow":"5m","type":"ClientSecret"},"connection":{"host":"dns:///{{ tpl .Values.host . }}"}}},"enabled":true,"nodeName":"","nodeSelector":{},"podAnnotations":{},"podEnv":{},"resources":{"limits":{"cpu":"1","memory":"500Mi"},"requests":{"cpu":"500m","memory":"100Mi"}},"serviceAccount":{"annotations":{},"name":""},"templates":[{"key":"a_namespace","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  name: {{ namespace }}\n  labels:\n    union.ai/namespace-type: flyte\nspec:\n  finalizers:\n  - kubernetes\n"},{"key":"b_default_service_account","value":"apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: default\n  namespace: {{ namespace }}\n  annotations:\n    {{ defaultUserRoleKey }}: {{ defaultUserRoleValue }}\n"},{"key":"c_project_resource_quota","value":"apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: project-quota\n  namespace: {{ namespace }}\nspec:\n  hard:\n    limits.cpu: {{ projectQuotaCpu }}\n    limits.memory: {{ projectQuotaMemory }}\n    requests.nvidia.com/gpu: {{ projectQuotaNvidiaGpu }}\n"}],"tolerations":[],"topologySpreadConstraints":{}}` |
| clusterresourcesync.additionalVolumeMounts | list | Appends additional volume mounts to the main container's spec. May include template values. | `[]` |
| clusterresourcesync.additionalVolumes | list | Appends additional volumes to the deployment spec. May include template values. | `[]` |
| clusterresourcesync.affinity | object | affinity configurations for the syncresources pods | `{}` |
| clusterresourcesync.config | object | Syncresources service configuration | `{"clusterResourcesPrivate":{"app":{"isServerless":false}},"cluster_resources":{"clusterName":"{{ include \"getClusterName\" . }}","customData":[{"production":[{"projectQuotaCpu":{"value":"4096"}},{"projectQuotaMemory":{"value":"2Ti"}},{"projectQuotaNvidiaGpu":{"value":"256"}},{"defaultUserRoleKey":{"value":"{{ tpl .Values.userRoleAnnotationKey . }}"}},{"defaultUserRoleValue":{"value":"{{ tpl .Values.userRoleAnnotationValue . }}"}}]},{"staging":[{"projectQuotaCpu":{"value":"4096"}},{"projectQuotaMemory":{"value":"2Ti"}},{"projectQuotaNvidiaGpu":{"value":"256"}},{"defaultUserRoleKey":{"value":"{{ tpl .Values.userRoleAnnotationKey . }}"}},{"defaultUserRoleValue":{"value":"{{ tpl .Values.userRoleAnnotationValue . }}"}}]},{"development":[{"projectQuotaCpu":{"value":"4096"}},{"projectQuotaMemory":{"value":"2Ti"}},{"projectQuotaNvidiaGpu":{"value":"256"}},{"defaultUserRoleKey":{"value":"{{ tpl .Values.userRoleAnnotationKey . }}"}},{"defaultUserRoleValue":{"value":"{{ tpl .Values.userRoleAnnotationValue . }}"}}]}],"refreshInterval":"5m","standaloneDeployment":true,"templatePath":"/etc/flyte/clusterresource/templates"},"union":{"auth":{"authorizationMetadataKey":"flyte-authorization","clientId":"{{ tpl .Values.secrets.admin.clientId . }}","clientSecretLocation":"/etc/union/secret/client_secret","tokenRefreshWindow":"5m","type":"ClientSecret"},"connection":{"host":"dns:///{{ tpl .Values.host . }}"}}}` |
| clusterresourcesync.config.clusterResourcesPrivate | object | Additional configuration for the cluster resources service | `{"app":{"isServerless":false}}` |
| clusterresourcesync.config.clusterResourcesPrivate.app | object | Configuration of app serving services. | `{"isServerless":false}` |
| clusterresourcesync.config.cluster_resources.clusterName | string | The name of the cluster.  This should always be the same as the cluster name in the config. | `"{{ include \"getClusterName\" . }}"` |
| clusterresourcesync.config.cluster_resources.refreshInterval | string | How frequently to sync the cluster resources | `"5m"` |
| clusterresourcesync.config.cluster_resources.standaloneDeployment | bool | Start the cluster resource manager in standalone mode. | `true` |
| clusterresourcesync.config.cluster_resources.templatePath | string | The path to the project the templates used to configure project resource quotas. | `"/etc/flyte/clusterresource/templates"` |
| clusterresourcesync.config.union | object | Connection information for the sync resources service to connect to the Union control plane. | `{"auth":{"authorizationMetadataKey":"flyte-authorization","clientId":"{{ tpl .Values.secrets.admin.clientId . }}","clientSecretLocation":"/etc/union/secret/client_secret","tokenRefreshWindow":"5m","type":"ClientSecret"},"connection":{"host":"dns:///{{ tpl .Values.host . }}"}}` |
| clusterresourcesync.config.union.connection.host | string | Host to connect to | `"dns:///{{ tpl .Values.host . }}"` |
| clusterresourcesync.enabled | bool | Enable or disable the syncresources service | `true` |
| clusterresourcesync.nodeName | string | nodeName constraints for the syncresources pods | `""` |
| clusterresourcesync.nodeSelector | object | nodeSelector constraints for the syncresources pods | `{}` |
| clusterresourcesync.podAnnotations | object | Additional pod annotations for the syncresources service | `{}` |
| clusterresourcesync.podEnv | object | Additional pod environment variables for the syncresources service | `{}` |
| clusterresourcesync.resources | object | Kubernetes resource configuration for the syncresources service | `{"limits":{"cpu":"1","memory":"500Mi"},"requests":{"cpu":"500m","memory":"100Mi"}}` |
| clusterresourcesync.serviceAccount | object | Override service account values for the syncresources service | `{"annotations":{},"name":""}` |
| clusterresourcesync.serviceAccount.annotations | object | Additional annotations for the syncresources service account | `{}` |
| clusterresourcesync.serviceAccount.name | string | Override the service account name for the syncresources service | `""` |
| clusterresourcesync.templates | list | The templates that are used to create and/or update kubernetes resources for Union projects. | `[{"key":"a_namespace","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  name: {{ namespace }}\n  labels:\n    union.ai/namespace-type: flyte\nspec:\n  finalizers:\n  - kubernetes\n"},{"key":"b_default_service_account","value":"apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: default\n  namespace: {{ namespace }}\n  annotations:\n    {{ defaultUserRoleKey }}: {{ defaultUserRoleValue }}\n"},{"key":"c_project_resource_quota","value":"apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: project-quota\n  namespace: {{ namespace }}\nspec:\n  hard:\n    limits.cpu: {{ projectQuotaCpu }}\n    limits.memory: {{ projectQuotaMemory }}\n    requests.nvidia.com/gpu: {{ projectQuotaNvidiaGpu }}\n"}]` |
| clusterresourcesync.templates[0] | object | Template for namespaces resources | `{"key":"a_namespace","value":"apiVersion: v1\nkind: Namespace\nmetadata:\n  name: {{ namespace }}\n  labels:\n    union.ai/namespace-type: flyte\nspec:\n  finalizers:\n  - kubernetes\n"}` |
| clusterresourcesync.templates[1] | object | Patch default service account | `{"key":"b_default_service_account","value":"apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: default\n  namespace: {{ namespace }}\n  annotations:\n    {{ defaultUserRoleKey }}: {{ defaultUserRoleValue }}\n"}` |
| clusterresourcesync.tolerations | list | tolerations for the syncresources pods | `[]` |
| clusterresourcesync.topologySpreadConstraints | object | topologySpreadConstraints for the syncresources pods | `{}` |
| config | object | Global configuration settings for all Union services. | `{"admin":{"admin":{"clientId":"{{ tpl .Values.secrets.admin.clientId . }}","clientSecretLocation":"/etc/union/secret/client_secret","endpoint":"dns:///{{ tpl .Values.host . }}","insecure":false},"event":{"capacity":1000,"rate":500,"type":"admin"}},"authorizer":{"type":"noop"},"catalog":{"catalog-cache":{"cache-endpoint":"dns:///{{ tpl .Values.host . }}","endpoint":"dns:///{{ tpl .Values.host . }}","insecure":false,"type":"cacheservicev2","use-admin-auth":true}},"clusters":{"clusterConfigs":[],"labelClusterMap":{}},"configOverrides":{"cache":{"identity":{"enabled":false}}},"copilot":{"plugins":{"k8s":{"co-pilot":{"image":"{{ .Values.image.flytecopilot.repository }}:{{ .Values.image.flytecopilot.tag }}","name":"flyte-copilot-","start-timeout":"30s"}}}},"core":{"propeller":{"downstream-eval-duration":"30s","enable-admin-launcher":true,"leader-election":{"enabled":true,"lease-duration":"15s","lock-config-map":{"name":"propeller-leader","namespace":"{{ .Release.Namespace }}"},"renew-deadline":"10s","retry-period":"2s"},"limit-namespace":"all","literal-offloading-config":{"enabled":true},"max-workflow-retries":30,"metadata-prefix":"metadata/propeller","metrics-prefix":"flyte","prof-port":10254,"queue":{"batch-size":-1,"batching-interval":"2s","queue":{"base-delay":"5s","capacity":1000,"max-delay":"120s","rate":100,"type":"maxof"},"sub-queue":{"capacity":100,"rate":10,"type":"bucket"},"type":"batch"},"rawoutput-prefix":"{{ include \"storage.metadata-prefix\" . }}","workers":4,"workflow-reeval-duration":"30s"},"webhook":{"certDir":"/etc/webhook/certs","embeddedSecretManagerConfig":{"imagePullSecrets":{"enabled":true},"k8sConfig":{"namespace":"{{ include \"proxy.secretsNamespace\" . }}"},"type":"{{ .Values.proxy.secretManager.type }}"},"listenPort":"{{ .Values.flytepropellerwebhook.service.targetPort }}","secretManagerTypes":["Embedded","K8s"],"serviceName":"flyte-pod-webhook","servicePort":"{{ .Values.flytepropellerwebhook.service.port }}"}},"domain":{"domains":[{"id":"development","name":"development"},{"id":"staging","name":"staging"},{"id":"production","name":"production"}]},"enabled_plugins":{"plugins":{"connector-service":{"defaultConnector":{"defaultServiceConfig":"{\"loadBalancingConfig\": [{\"round_robin\":{}}]}","endpoint":"k8s:///flyteconnector.{{ .Release.Namespace }}:8000"}}},"tasks":{"task-plugins":{"default-for-task-types":{"actor":"fast-task","container":"container","container_array":"k8s-array","sidecar":"sidecar"},"enabled-plugins":["container","sidecar","k8s-array","echo","fast-task","connector-service"]}}},"k8s":{"plugins":{"k8s":{"default-cpus":"100m","default-env-vars":[],"default-memory":"100Mi","default-pod-template-name":"task-template"}}},"logger":{"level":4,"show-source":true},"operator":{"apps":{"enabled":"{{ .Values.serving.enabled }}"},"billableUsageCollector":{"enabled":true},"clusterData":{"appId":"{{ tpl .Values.secrets.admin.clientId . }}","bucketName":"{{ tpl .Values.storage.bucketName . }}","bucketRegion":"{{ tpl .Values.storage.region . }}","cloudHostName":"{{ tpl .Values.host . }}","gcpProjectId":"{{ tpl .Values.storage.gcp.projectId . }}","metadataBucketPrefix":"{{ include \"storage.metadata-prefix\" . }}","userRole":"{{ tpl (.Values.userRoleAnnotationValue | toString) $ }}","userRoleKey":"{{ tpl (.Values.userRoleAnnotationKey | toString) $ }}"},"clusterId":{"organization":"{{ tpl .Values.orgName . }}"},"collectBillableResourceUsage":{"enabled":false},"collectUsages":{"enabled":true},"dependenciesHeartbeat":{"executor":{"endpoint":"{{ include \"executor.health.url\" . }}"},"prometheus":{"endpoint":"{{ include \"prometheus.health.url\" . }}"},"propeller":{"endpoint":"{{ include \"propeller.health.url\" . }}"},"proxy":{"endpoint":"{{ include \"proxy.health.url\" . }}"}},"enableTunnelService":true,"enabled":true,"syncClusterConfig":{"enabled":false}},"proxy":{"imageBuilderConfig":{"authenticationType":"{{ .Values.imageBuilder.authenticationType }}","defaultRepository":"{{ .Values.imageBuilder.defaultRepository }}"},"persistedLogs":{"objectStore":{"pathTemplate":"namespace-{{`{{.KubernetesNamespace}}`}}.pod-{{`{{.KubernetesPodName}}`}}.cont-{{`{{.KubernetesContainerName}}`}}","prefix":"persisted-logs"},"sourceType":"ObjectStore"},"smConfig":{"enabled":"{{ .Values.proxy.secretManager.enabled }}","k8sConfig":{"namespace":"{{ include \"proxy.secretsNamespace\" . }}"},"type":"{{ .Values.proxy.secretManager.type }}"}},"resource_manager":{"propeller":{"resourcemanager":{"type":"noop"}}},"schedulerConfig":{"scheduler":{"metricsScope":"flyte:","profilerPort":10254}},"sharedService":{"features":{"gatewayV2":true},"port":8081},"task_logs":{"plugins":{"logs":{"cloudwatch-enabled":false,"dynamic-log-links":[{"vscode":{"displayName":"VS Code Debugger","templateUris":["/dataplane/pod/v1/generated_name/task/{{`{{.executionProject}}`}}/{{`{{.executionDomain}}`}}/{{`{{.executionName}}`}}/{{`{{.nodeID}}`}}/{{`{{.taskRetryAttempt}}`}}/{{`{{.taskProject}}`}}/{{`{{.taskDomain}}`}}/{{`{{.taskID}}`}}/{{`{{.taskVersion}}`}}/"]}}],"kubernetes-enabled":false,"templates":[{"displayName":"Task Logs","scheme":"TaskExecution","templateUris":["/console/projects/{{`{{.executionProject}}`}}/domains/{{`{{.executionDomain}}`}}/executions/{{`{{.executionName}}`}}/nodeId/{{`{{.nodeID}}`}}/taskId/{{`{{.taskID}}`}}/attempt/{{`{{.taskRetryAttempt}}`}}/view/logs?duration=all&fromExecutionNav=true"]}]}}},"task_resource_defaults":{"task_resources":{"defaults":{"cpu":"100m","memory":"500Mi"},"limits":{"cpu":4096,"gpu":256,"memory":"2Ti"}}},"union":{"auth":{"authorizationMetadataKey":"flyte-authorization","clientId":"{{ tpl .Values.secrets.admin.clientId . }}","clientSecretLocation":"/etc/union/secret/client_secret","tokenRefreshWindow":"5m","type":"ClientSecret"},"connection":{"host":"dns:///{{ tpl .Values.host . }}"}}}` |
| config.admin | object | Admin Client configuration [structure](https://pkg.go.dev/github.com/flyteorg/flytepropeller/pkg/controller/nodes/subworkflow/launchplan#AdminConfig) | `{"admin":{"clientId":"{{ tpl .Values.secrets.admin.clientId . }}","clientSecretLocation":"/etc/union/secret/client_secret","endpoint":"dns:///{{ tpl .Values.host . }}","insecure":false},"event":{"capacity":1000,"rate":500,"type":"admin"}}` |
| config.catalog | object | Catalog Client configuration [structure](https://pkg.go.dev/github.com/flyteorg/flytepropeller/pkg/controller/nodes/task/catalog#Config) Additional advanced Catalog configuration [here](https://pkg.go.dev/github.com/lyft/flyteplugins/go/tasks/pluginmachinery/catalog#Config) | `{"catalog-cache":{"cache-endpoint":"dns:///{{ tpl .Values.host . }}","endpoint":"dns:///{{ tpl .Values.host . }}","insecure":false,"type":"cacheservicev2","use-admin-auth":true}}` |
| config.configOverrides | object | Override any configuration settings. | `{"cache":{"identity":{"enabled":false}}}` |
| config.copilot | object | Copilot configuration | `{"plugins":{"k8s":{"co-pilot":{"image":"{{ .Values.image.flytecopilot.repository }}:{{ .Values.image.flytecopilot.tag }}","name":"flyte-copilot-","start-timeout":"30s"}}}}` |
| config.copilot.plugins.k8s.co-pilot | object | Structure documented [here](https://pkg.go.dev/github.com/lyft/flyteplugins@v0.5.28/go/tasks/pluginmachinery/flytek8s/config#FlyteCoPilotConfig) | `{"image":"{{ .Values.image.flytecopilot.repository }}:{{ .Values.image.flytecopilot.tag }}","name":"flyte-copilot-","start-timeout":"30s"}` |
| config.core | object | Core propeller configuration | `{"propeller":{"downstream-eval-duration":"30s","enable-admin-launcher":true,"leader-election":{"enabled":true,"lease-duration":"15s","lock-config-map":{"name":"propeller-leader","namespace":"{{ .Release.Namespace }}"},"renew-deadline":"10s","retry-period":"2s"},"limit-namespace":"all","literal-offloading-config":{"enabled":true},"max-workflow-retries":30,"metadata-prefix":"metadata/propeller","metrics-prefix":"flyte","prof-port":10254,"queue":{"batch-size":-1,"batching-interval":"2s","queue":{"base-delay":"5s","capacity":1000,"max-delay":"120s","rate":100,"type":"maxof"},"sub-queue":{"capacity":100,"rate":10,"type":"bucket"},"type":"batch"},"rawoutput-prefix":"{{ include \"storage.metadata-prefix\" . }}","workers":4,"workflow-reeval-duration":"30s"},"webhook":{"certDir":"/etc/webhook/certs","embeddedSecretManagerConfig":{"imagePullSecrets":{"enabled":true},"k8sConfig":{"namespace":"{{ include \"proxy.secretsNamespace\" . }}"},"type":"{{ .Values.proxy.secretManager.type }}"},"listenPort":"{{ .Values.flytepropellerwebhook.service.targetPort }}","secretManagerTypes":["Embedded","K8s"],"serviceName":"flyte-pod-webhook","servicePort":"{{ .Values.flytepropellerwebhook.service.port }}"}}` |
| config.core.propeller | object | follows the structure specified [here](https://pkg.go.dev/github.com/flyteorg/flytepropeller/pkg/controller/config). | `{"downstream-eval-duration":"30s","enable-admin-launcher":true,"leader-election":{"enabled":true,"lease-duration":"15s","lock-config-map":{"name":"propeller-leader","namespace":"{{ .Release.Namespace }}"},"renew-deadline":"10s","retry-period":"2s"},"limit-namespace":"all","literal-offloading-config":{"enabled":true},"max-workflow-retries":30,"metadata-prefix":"metadata/propeller","metrics-prefix":"flyte","prof-port":10254,"queue":{"batch-size":-1,"batching-interval":"2s","queue":{"base-delay":"5s","capacity":1000,"max-delay":"120s","rate":100,"type":"maxof"},"sub-queue":{"capacity":100,"rate":10,"type":"bucket"},"type":"batch"},"rawoutput-prefix":"{{ include \"storage.metadata-prefix\" . }}","workers":4,"workflow-reeval-duration":"30s"}` |
| config.domain | object | Domains configuration for Union projects. This enables the specified number of domains across all projects in Union. | `{"domains":[{"id":"development","name":"development"},{"id":"staging","name":"staging"},{"id":"production","name":"production"}]}` |
| config.enabled_plugins.tasks | object | Tasks specific configuration [structure](https://pkg.go.dev/github.com/flyteorg/flytepropeller/pkg/controller/nodes/task/config#GetConfig) | `{"task-plugins":{"default-for-task-types":{"actor":"fast-task","container":"container","container_array":"k8s-array","sidecar":"sidecar"},"enabled-plugins":["container","sidecar","k8s-array","echo","fast-task","connector-service"]}}` |
| config.enabled_plugins.tasks.task-plugins | object | Plugins configuration, [structure](https://pkg.go.dev/github.com/flyteorg/flytepropeller/pkg/controller/nodes/task/config#TaskPluginConfig) | `{"default-for-task-types":{"actor":"fast-task","container":"container","container_array":"k8s-array","sidecar":"sidecar"},"enabled-plugins":["container","sidecar","k8s-array","echo","fast-task","connector-service"]}` |
| config.enabled_plugins.tasks.task-plugins.enabled-plugins | list | [Enabled Plugins](https://pkg.go.dev/github.com/lyft/flyteplugins/go/tasks/config#Config). Enable sagemaker*, athena if you install the backend plugins | `["container","sidecar","k8s-array","echo","fast-task","connector-service"]` |
| config.k8s | object | Kubernetes specific Flyte configuration | `{"plugins":{"k8s":{"default-cpus":"100m","default-env-vars":[],"default-memory":"100Mi","default-pod-template-name":"task-template"}}}` |
| config.k8s.plugins.k8s | object | Configuration section for all K8s specific plugins [Configuration structure](https://pkg.go.dev/github.com/lyft/flyteplugins/go/tasks/pluginmachinery/flytek8s/config) | `{"default-cpus":"100m","default-env-vars":[],"default-memory":"100Mi","default-pod-template-name":"task-template"}` |
| config.logger | object | Logging configuration | `{"level":4,"show-source":true}` |
| config.operator | object | Configuration for the Union operator service | `{"apps":{"enabled":"{{ .Values.serving.enabled }}"},"billableUsageCollector":{"enabled":true},"clusterData":{"appId":"{{ tpl .Values.secrets.admin.clientId . }}","bucketName":"{{ tpl .Values.storage.bucketName . }}","bucketRegion":"{{ tpl .Values.storage.region . }}","cloudHostName":"{{ tpl .Values.host . }}","gcpProjectId":"{{ tpl .Values.storage.gcp.projectId . }}","metadataBucketPrefix":"{{ include \"storage.metadata-prefix\" . }}","userRole":"{{ tpl (.Values.userRoleAnnotationValue | toString) $ }}","userRoleKey":"{{ tpl (.Values.userRoleAnnotationKey | toString) $ }}"},"clusterId":{"organization":"{{ tpl .Values.orgName . }}"},"collectBillableResourceUsage":{"enabled":false},"collectUsages":{"enabled":true},"dependenciesHeartbeat":{"executor":{"endpoint":"{{ include \"executor.health.url\" . }}"},"prometheus":{"endpoint":"{{ include \"prometheus.health.url\" . }}"},"propeller":{"endpoint":"{{ include \"propeller.health.url\" . }}"},"proxy":{"endpoint":"{{ include \"proxy.health.url\" . }}"}},"enableTunnelService":true,"enabled":true,"syncClusterConfig":{"enabled":false}}` |
| config.operator.apps | object | Enable app serving | `{"enabled":"{{ .Values.serving.enabled }}"}` |
| config.operator.billableUsageCollector | object | Configuration for billable usage collector. | `{"enabled":true}` |
| config.operator.billableUsageCollector.enabled | bool | Enable billable usage collection in the operator service. | `true` |
| config.operator.clusterData | object | Dataplane cluster configuration. | `{"appId":"{{ tpl .Values.secrets.admin.clientId . }}","bucketName":"{{ tpl .Values.storage.bucketName . }}","bucketRegion":"{{ tpl .Values.storage.region . }}","cloudHostName":"{{ tpl .Values.host . }}","gcpProjectId":"{{ tpl .Values.storage.gcp.projectId . }}","metadataBucketPrefix":"{{ include \"storage.metadata-prefix\" . }}","userRole":"{{ tpl (.Values.userRoleAnnotationValue | toString) $ }}","userRoleKey":"{{ tpl (.Values.userRoleAnnotationKey | toString) $ }}"}` |
| config.operator.clusterData.appId | string | The client id used to authenticate to the control plane.  This will be provided by Union. | `"{{ tpl .Values.secrets.admin.clientId . }}"` |
| config.operator.clusterData.bucketName | string | The bucket name for object storage. | `"{{ tpl .Values.storage.bucketName . }}"` |
| config.operator.clusterData.bucketRegion | string | The bucket region for object storage. | `"{{ tpl .Values.storage.region . }}"` |
| config.operator.clusterData.cloudHostName | string | The hose name for control plane access. This will be provided by Union. | `"{{ tpl .Values.host . }}"` |
| config.operator.clusterData.gcpProjectId | string | For GCP only, the project id for object storage. | `"{{ tpl .Values.storage.gcp.projectId . }}"` |
| config.operator.clusterData.metadataBucketPrefix | string | The prefix for constructing object storage URLs. | `"{{ include \"storage.metadata-prefix\" . }}"` |
| config.operator.clusterId | object | Set the cluster information for the operator service | `{"organization":"{{ tpl .Values.orgName . }}"}` |
| config.operator.clusterId.organization | string | The organization name for the cluster.  This should match your organization name that you were provided. | `"{{ tpl .Values.orgName . }}"` |
| config.operator.collectBillableResourceUsage | object | Configuration for billable resource usage collection. | `{"enabled":false}` |
| config.operator.collectBillableResourceUsage.enabled | bool | Enable billable resource usage collection in the operator service. | `false` |
| config.operator.collectUsages | object | Configuration for the usage reporting service. | `{"enabled":true}` |
| config.operator.collectUsages.enabled | bool | Enable usage collection in the operator service. | `true` |
| config.operator.dependenciesHeartbeat | object | Heartbeat check configuration. | `{"executor":{"endpoint":"{{ include \"executor.health.url\" . }}"},"prometheus":{"endpoint":"{{ include \"prometheus.health.url\" . }}"},"propeller":{"endpoint":"{{ include \"propeller.health.url\" . }}"},"proxy":{"endpoint":"{{ include \"proxy.health.url\" . }}"}}` |
| config.operator.dependenciesHeartbeat.executor | object | Define the propeller health check endpoint. | `{"endpoint":"{{ include \"executor.health.url\" . }}"}` |
| config.operator.dependenciesHeartbeat.prometheus | object | Define the prometheus health check endpoint. | `{"endpoint":"{{ include \"prometheus.health.url\" . }}"}` |
| config.operator.dependenciesHeartbeat.propeller | object | Define the propeller health check endpoint. | `{"endpoint":"{{ include \"propeller.health.url\" . }}"}` |
| config.operator.dependenciesHeartbeat.proxy | object | Define the operator proxy health check endpoint. | `{"endpoint":"{{ include \"proxy.health.url\" . }}"}` |
| config.operator.enableTunnelService | bool | Enable the cloudflare tunnel service for secure communication with the control plane. | `true` |
| config.operator.enabled | bool | Enables the operator service | `true` |
| config.operator.syncClusterConfig | object | Sync the configuration from the control plane. This will overwrite any configuration values set as part of the deploy. | `{"enabled":false}` |
| config.proxy | object | Configuration for the operator proxy service. | `{"imageBuilderConfig":{"authenticationType":"{{ .Values.imageBuilder.authenticationType }}","defaultRepository":"{{ .Values.imageBuilder.defaultRepository }}"},"persistedLogs":{"objectStore":{"pathTemplate":"namespace-{{`{{.KubernetesNamespace}}`}}.pod-{{`{{.KubernetesPodName}}`}}.cont-{{`{{.KubernetesContainerName}}`}}","prefix":"persisted-logs"},"sourceType":"ObjectStore"},"smConfig":{"enabled":"{{ .Values.proxy.secretManager.enabled }}","k8sConfig":{"namespace":"{{ include \"proxy.secretsNamespace\" . }}"},"type":"{{ .Values.proxy.secretManager.type }}"}}` |
| config.proxy.smConfig | object | Secret manager configuration | `{"enabled":"{{ .Values.proxy.secretManager.enabled }}","k8sConfig":{"namespace":"{{ include \"proxy.secretsNamespace\" . }}"},"type":"{{ .Values.proxy.secretManager.type }}"}` |
| config.proxy.smConfig.enabled | string | Enable or disable secret manager support for the Union dataplane. | `"{{ .Values.proxy.secretManager.enabled }}"` |
| config.proxy.smConfig.k8sConfig | object | Kubernetes specific secret manager configuration. | `{"namespace":"{{ include \"proxy.secretsNamespace\" . }}"}` |
| config.proxy.smConfig.type | string | The type of secret manager to use. | `"{{ .Values.proxy.secretManager.type }}"` |
| config.resource_manager | object | Resource manager configuration | `{"propeller":{"resourcemanager":{"type":"noop"}}}` |
| config.resource_manager.propeller | object | resource manager configuration | `{"resourcemanager":{"type":"noop"}}` |
| config.sharedService | object | Section that configures shared union services | `{"features":{"gatewayV2":true},"port":8081}` |
| config.task_logs | object | Section that configures how the Task logs are displayed on the UI. This has to be changed based on your actual logging provider. Refer to [structure](https://pkg.go.dev/github.com/lyft/flyteplugins/go/tasks/logs#LogConfig) to understand how to configure various logging engines | `{"plugins":{"logs":{"cloudwatch-enabled":false,"dynamic-log-links":[{"vscode":{"displayName":"VS Code Debugger","templateUris":["/dataplane/pod/v1/generated_name/task/{{`{{.executionProject}}`}}/{{`{{.executionDomain}}`}}/{{`{{.executionName}}`}}/{{`{{.nodeID}}`}}/{{`{{.taskRetryAttempt}}`}}/{{`{{.taskProject}}`}}/{{`{{.taskDomain}}`}}/{{`{{.taskID}}`}}/{{`{{.taskVersion}}`}}/"]}}],"kubernetes-enabled":false,"templates":[{"displayName":"Task Logs","scheme":"TaskExecution","templateUris":["/console/projects/{{`{{.executionProject}}`}}/domains/{{`{{.executionDomain}}`}}/executions/{{`{{.executionName}}`}}/nodeId/{{`{{.nodeID}}`}}/taskId/{{`{{.taskID}}`}}/attempt/{{`{{.taskRetryAttempt}}`}}/view/logs?duration=all&fromExecutionNav=true"]}]}}}` |
| config.task_logs.plugins.logs.cloudwatch-enabled | bool | One option is to enable cloudwatch logging for EKS, update the region and log group accordingly | `false` |
| config.task_resource_defaults | object | Task default resources configuration Refer to the full [structure](https://pkg.go.dev/github.com/lyft/flyteadmin@v0.3.37/pkg/runtime/interfaces#TaskResourceConfiguration). | `{"task_resources":{"defaults":{"cpu":"100m","memory":"500Mi"},"limits":{"cpu":4096,"gpu":256,"memory":"2Ti"}}}` |
| config.task_resource_defaults.task_resources | object | Task default resources parameters | `{"defaults":{"cpu":"100m","memory":"500Mi"},"limits":{"cpu":4096,"gpu":256,"memory":"2Ti"}}` |
| config.union.connection | object | Connection information to the union control plane. | `{"host":"dns:///{{ tpl .Values.host . }}"}` |
| config.union.connection.host | string | Host to connect to | `"dns:///{{ tpl .Values.host . }}"` |
| cost.enabled | bool | Enable or disable the cost service resources.  This does not include the opencost or other compatible monitoring services. | `true` |
| cost.serviceMonitor.matchLabels | object | Match labels for the ServiceMonitor. | `{"app.kubernetes.io/name":"opencost"}` |
| cost.serviceMonitor.name | string | The name of the ServiceMonitor. | `"cost"` |
| databricks | object | Databricks integration configuration | `{"enabled":false,"plugin_config":{}}` |
| dcgm-exporter | object | Dcgm exporter configuration | `{"customMetrics":"# Format\n# If line starts with a '#' it is considered a comment\n# DCGM FIELD, Prometheus metric type, help message\n\n# Clocks\nDCGM_FI_DEV_SM_CLOCK,  gauge, SM clock frequency (in MHz).\nDCGM_FI_DEV_MEM_CLOCK, gauge, Memory clock frequency (in MHz).\n\n# Temperature\nDCGM_FI_DEV_MEMORY_TEMP, gauge, Memory temperature (in C).\nDCGM_FI_DEV_GPU_TEMP,    gauge, GPU temperature (in C).\n\n# Power\nDCGM_FI_DEV_POWER_USAGE,              gauge, Power draw (in W).\nDCGM_FI_DEV_TOTAL_ENERGY_CONSUMPTION, counter, Total energy consumption since boot (in mJ).\n\n# PCIE\n# DCGM_FI_PROF_PCIE_TX_BYTES,  counter, Total number of bytes transmitted through PCIe TX via NVML.\n# DCGM_FI_PROF_PCIE_RX_BYTES,  counter, Total number of bytes received through PCIe RX via NVML.\nDCGM_FI_DEV_PCIE_REPLAY_COUNTER, counter, Total number of PCIe retries.\n\n# Utilization (the sample period varies depending on the product)\nDCGM_FI_DEV_GPU_UTIL,      gauge, GPU utilization (in %).\nDCGM_FI_DEV_MEM_COPY_UTIL, gauge, Memory utilization (in %).\nDCGM_FI_DEV_ENC_UTIL,      gauge, Encoder utilization (in %).\nDCGM_FI_DEV_DEC_UTIL ,     gauge, Decoder utilization (in %).\n\n# Errors and violations\nDCGM_FI_DEV_XID_ERRORS,            gauge,   Value of the last XID error encountered.\n# DCGM_FI_DEV_POWER_VIOLATION,       counter, Throttling duration due to power constraints (in ns).\n# DCGM_FI_DEV_THERMAL_VIOLATION,     counter, Throttling duration due to thermal constraints (in ns).\n# DCGM_FI_DEV_SYNC_BOOST_VIOLATION,  counter, Throttling duration due to sync-boost constraints (in ns).\n# DCGM_FI_DEV_BOARD_LIMIT_VIOLATION, counter, Throttling duration due to board limit constraints (in ns).\n# DCGM_FI_DEV_LOW_UTIL_VIOLATION,    counter, Throttling duration due to low utilization (in ns).\n# DCGM_FI_DEV_RELIABILITY_VIOLATION, counter, Throttling duration due to reliability constraints (in ns).\n\n# Memory usage\nDCGM_FI_DEV_FB_FREE, gauge, Framebuffer memory free (in MiB).\nDCGM_FI_DEV_FB_USED, gauge, Framebuffer memory used (in MiB).\n\n# ECC\n# DCGM_FI_DEV_ECC_SBE_VOL_TOTAL, counter, Total number of single-bit volatile ECC errors.\n# DCGM_FI_DEV_ECC_DBE_VOL_TOTAL, counter, Total number of double-bit volatile ECC errors.\n# DCGM_FI_DEV_ECC_SBE_AGG_TOTAL, counter, Total number of single-bit persistent ECC errors.\n# DCGM_FI_DEV_ECC_DBE_AGG_TOTAL, counter, Total number of double-bit persistent ECC errors.\n\n# Retired pages\n# DCGM_FI_DEV_RETIRED_SBE,     counter, Total number of retired pages due to single-bit errors.\n# DCGM_FI_DEV_RETIRED_DBE,     counter, Total number of retired pages due to double-bit errors.\n# DCGM_FI_DEV_RETIRED_PENDING, counter, Total number of pages pending retirement.\n\n# NVLink\n# DCGM_FI_DEV_NVLINK_CRC_FLIT_ERROR_COUNT_TOTAL, counter, Total number of NVLink flow-control CRC errors.\n# DCGM_FI_DEV_NVLINK_CRC_DATA_ERROR_COUNT_TOTAL, counter, Total number of NVLink data CRC errors.\n# DCGM_FI_DEV_NVLINK_REPLAY_ERROR_COUNT_TOTAL,   counter, Total number of NVLink retries.\n# DCGM_FI_DEV_NVLINK_RECOVERY_ERROR_COUNT_TOTAL, counter, Total number of NVLink recovery errors.\nDCGM_FI_DEV_NVLINK_BANDWIDTH_TOTAL,            counter, Total number of NVLink bandwidth counters for all lanes.\n# DCGM_FI_DEV_NVLINK_BANDWIDTH_L0,               counter, The number of bytes of active NVLink rx or tx data including both header and payload.\n\n# VGPU License status\nDCGM_FI_DEV_VGPU_LICENSE_STATUS, gauge, vGPU License status\n\n# Remapped rows\nDCGM_FI_DEV_UNCORRECTABLE_REMAPPED_ROWS, counter, Number of remapped rows for uncorrectable errors\nDCGM_FI_DEV_CORRECTABLE_REMAPPED_ROWS,   counter, Number of remapped rows for correctable errors\nDCGM_FI_DEV_ROW_REMAP_FAILURE,           gauge,   Whether remapping of rows has failed\n\n# DCP metrics\nDCGM_FI_PROF_GR_ENGINE_ACTIVE,   gauge, Ratio of time the graphics engine is active.\nDCGM_FI_PROF_SM_ACTIVE,          gauge, The ratio of cycles an SM has at least 1 warp assigned.\nDCGM_FI_PROF_SM_OCCUPANCY,       gauge, The ratio of number of warps resident on an SM.\nDCGM_FI_PROF_PIPE_TENSOR_ACTIVE, gauge, Ratio of cycles the tensor (HMMA) pipe is active.\nDCGM_FI_PROF_DRAM_ACTIVE,        gauge, Ratio of cycles the device memory interface is active sending or receiving data.\n# DCGM_FI_PROF_PIPE_FP64_ACTIVE,   gauge, Ratio of cycles the fp64 pipes are active.\n# DCGM_FI_PROF_PIPE_FP32_ACTIVE,   gauge, Ratio of cycles the fp32 pipes are active.\n# DCGM_FI_PROF_PIPE_FP16_ACTIVE,   gauge, Ratio of cycles the fp16 pipes are active.\nDCGM_FI_PROF_PCIE_TX_BYTES,      counter, The number of bytes of active pcie tx data including both header and payload.\nDCGM_FI_PROF_PCIE_RX_BYTES,      counter, The number of bytes of active pcie rx data including both header and payload.\n","enabled":false,"extraEnv":[{"name":"DCGM_EXPORTER_KUBERNETES_GPU_ID_TYPE","value":"uid"}],"resources":{"limits":{"memory":"1Gi"}},"serviceMonitor":{"honorLabels":true}}` |
| dcgm-exporter.enabled | bool | Enable or disable the dcgm exporter | `false` |
| dcgm-exporter.serviceMonitor | object | It's common practice to taint and label  to not run dcgm exporter on all nodes, so we can use node selectors and    tolerations to ensure it only runs on GPU nodes. affinity: {} nodeSelector: {} tolerations: [] | `{"honorLabels":true}` |
| executor | object | Executor service configuration for running fast tasks and eager workflows. | `{"additionalVolumeMounts":[],"additionalVolumes":[],"config":{"cluster":"{{ tpl .Values.clusterName . }}","evaluatorCount":64,"maxActions":2000,"organization":"{{ tpl .Values.orgName . }}","unionAuth":{"injectSecret":true,"secretName":"EAGER_API_KEY"},"workerName":"worker1"},"enabled":true,"idl2Executor":true,"plugins":{"fasttask":{"additional-worker-args":["--last-ack-grace-period-seconds","120"],"callback-uri":"http://unionai-dataplane-executor.{{.Release.Namespace}}.svc.cluster.local:15605","grace-period-status-not-found":"2m"},"ioutils":{"remoteFileOutputPaths":{"deckFilename":"report.html"}},"k8s":{"disable-inject-owner-references":true}},"podEnv":[],"podLabels":{"app":"executor","app.kubernetes.io/instance":"{{ .Release.Name }}","app.kubernetes.io/name":"executor"},"propeller":{"node-config":{"disable-input-file-writes":true}},"raw_config":{},"resources":{"limits":{"cpu":4,"memory":"8Gi"},"requests":{"cpu":1,"memory":"1Gi"}},"selector":{"matchLabels":{"app":"executor"}},"serviceAccount":{"annotations":{}},"sharedService":{"metrics":{"scope":"executor:"},"security":{"allowCors":true,"allowLocalhostAccess":true,"allowedHeaders":["Content-Type"],"allowedOrigins":["*"],"secure":false,"useAuth":false}},"task_logs":{"plugins":{"logs":{"cloudwatch-enabled":false,"kubernetes-enabled":false}}}}` |
| executor.additionalVolumeMounts | list | Appends additional volume mounts to the main container's spec. May include template values. | `[]` |
| executor.additionalVolumes | list | Appends additional volumes to the deployment spec. May include template values. | `[]` |
| executor.config | object | Core executor configuration. | `{"cluster":"{{ tpl .Values.clusterName . }}","evaluatorCount":64,"maxActions":2000,"organization":"{{ tpl .Values.orgName . }}","unionAuth":{"injectSecret":true,"secretName":"EAGER_API_KEY"},"workerName":"worker1"}` |
| executor.config.cluster | string | Cluster name for the executor. Should match .Values.clusterName. | `"{{ tpl .Values.clusterName . }}"` |
| executor.config.evaluatorCount | int | Number of evaluator goroutines for processing workflow nodes. | `64` |
| executor.config.maxActions | int | Maximum number of concurrent actions the executor can handle. | `2000` |
| executor.config.organization | string | Organization name for the executor. Should match .Values.orgName. | `"{{ tpl .Values.orgName . }}"` |
| executor.config.unionAuth | object | Authentication configuration for eager workflows. | `{"injectSecret":true,"secretName":"EAGER_API_KEY"}` |
| executor.config.unionAuth.injectSecret | bool | Inject an API key secret into eager workflow pods. | `true` |
| executor.config.unionAuth.secretName | string | Name of the environment variable containing the API key secret. | `"EAGER_API_KEY"` |
| executor.config.workerName | string | Name of this executor worker instance. | `"worker1"` |
| executor.enabled | bool | Enable or disable the executor service. | `true` |
| executor.idl2Executor | bool | Use IDL v2 executor protocol. | `true` |
| executor.plugins | object | Plugin configuration for the executor. | `{"fasttask":{"additional-worker-args":["--last-ack-grace-period-seconds","120"],"callback-uri":"http://unionai-dataplane-executor.{{.Release.Namespace}}.svc.cluster.local:15605","grace-period-status-not-found":"2m"},"ioutils":{"remoteFileOutputPaths":{"deckFilename":"report.html"}},"k8s":{"disable-inject-owner-references":true}}` |
| executor.plugins.fasttask | object | Fast task plugin configuration. Enables in-process task execution for reduced overhead. | `{"additional-worker-args":["--last-ack-grace-period-seconds","120"],"callback-uri":"http://unionai-dataplane-executor.{{.Release.Namespace}}.svc.cluster.local:15605","grace-period-status-not-found":"2m"}` |
| executor.plugins.ioutils | object | IO utilities configuration. | `{"remoteFileOutputPaths":{"deckFilename":"report.html"}}` |
| executor.plugins.ioutils.remoteFileOutputPaths.deckFilename | string | Filename for Flyte Deck HTML reports. | `"report.html"` |
| executor.plugins.k8s | object | Kubernetes plugin configuration for the executor. | `{"disable-inject-owner-references":true}` |
| executor.plugins.k8s.disable-inject-owner-references | bool | Disable injecting owner references on task pods (executor manages lifecycle independently). | `true` |
| executor.podEnv | list | Appends additional environment variables to the executor container's spec. | `[]` |
| executor.podLabels | object | Labels to apply to executor pods. | `{"app":"executor","app.kubernetes.io/instance":"{{ .Release.Name }}","app.kubernetes.io/name":"executor"}` |
| executor.propeller | object | Propeller node configuration overrides for the executor. | `{"node-config":{"disable-input-file-writes":true}}` |
| executor.propeller.node-config.disable-input-file-writes | bool | Disable writing input files to disk (uses remote storage instead). | `true` |
| executor.raw_config | object | Raw configuration to merge into the executor config. Allows arbitrary overrides. | `{}` |
| executor.resources | object | Resource requests and limits for the executor deployment. | `{"limits":{"cpu":4,"memory":"8Gi"},"requests":{"cpu":1,"memory":"1Gi"}}` |
| executor.selector | object | Label selector for the executor deployment. | `{"matchLabels":{"app":"executor"}}` |
| executor.serviceAccount | object | Service account configuration for the executor. | `{"annotations":{}}` |
| executor.serviceAccount.annotations | object | Annotations to add to the executor service account. | `{}` |
| executor.sharedService | object | Shared service configuration for the executor gRPC/HTTP server. | `{"metrics":{"scope":"executor:"},"security":{"allowCors":true,"allowLocalhostAccess":true,"allowedHeaders":["Content-Type"],"allowedOrigins":["*"],"secure":false,"useAuth":false}}` |
| executor.sharedService.metrics | object | Metrics configuration for the executor. | `{"scope":"executor:"}` |
| executor.sharedService.metrics.scope | string | Prometheus metrics prefix scope. | `"executor:"` |
| executor.sharedService.security | object | Security configuration for the executor API. | `{"allowCors":true,"allowLocalhostAccess":true,"allowedHeaders":["Content-Type"],"allowedOrigins":["*"],"secure":false,"useAuth":false}` |
| executor.sharedService.security.allowCors | bool | Enable CORS support. | `true` |
| executor.sharedService.security.allowLocalhostAccess | bool | Allow localhost access without authentication. | `true` |
| executor.sharedService.security.secure | bool | Enable TLS for the executor API. | `false` |
| executor.sharedService.security.useAuth | bool | Require authentication for the executor API. | `false` |
| executor.task_logs | object | Task log configuration for the executor. | `{"plugins":{"logs":{"cloudwatch-enabled":false,"kubernetes-enabled":false}}}` |
| executor.task_logs.plugins.logs.cloudwatch-enabled | bool | One option is to enable cloudwatch logging for EKS, update the region and log group accordingly | `false` |
| executor.task_logs.plugins.logs.kubernetes-enabled | bool | Enable Kubernetes-native log fetching. | `false` |
| extraObjects | list | Extra Kubernetes objects to deploy with the helm chart. Each entry is a raw Kubernetes manifest. | `[]` |
| fluentbit | object | Configuration for fluentbit used for the persistent logging feature. FluentBit runs as a DaemonSet and ships container logs to the persisted-logs/ path in the configured object store. The fluentbit-system service account must have write access to the storage bucket. Grant access using cloud-native identity federation:   AWS (IRSA):     annotations:       eks.amazonaws.com/role-arn: "arn:aws:iam::<ACCOUNT_ID>:role/<ROLE_NAME>"   Azure (Workload Identity):     annotations:       azure.workload.identity/client-id: "<CLIENT_ID>"   GCP (Workload Identity):     annotations:       iam.gke.io/gcp-service-account: "<GSA_NAME>@<PROJECT_ID>.iam.gserviceaccount.com" See https://www.union.ai/docs/v1/selfmanaged/deployment/configuration/persistent-logs/ | `{"enabled":true,"env":[],"existingConfigMap":"fluentbit-system","serviceAccount":{"annotations":{},"name":"fluentbit-system"},"tolerations":[{"operator":"Exists"}]}` |
| flyteagent | object | Flyteagent configuration | `{"enabled":false,"plugin_config":{}}` |
| flyteconnector | object | Flyte connector deployment configuration. Connectors provide external service integrations (e.g., Databricks, SageMaker, Snowflake) for Flyte tasks. | `{"additionalContainers":[],"additionalEnvs":[],"additionalVolumeMounts":[],"additionalVolumes":[],"affinity":{},"autoscaling":{"maxReplicas":5,"minReplicas":2,"targetCPUUtilizationPercentage":80,"targetMemoryUtilizationPercentage":80},"configPath":"/etc/flyteconnector/config/*.yaml","enabled":false,"extraArgs":{},"image":{"pullPolicy":"IfNotPresent","repository":"ghcr.io/flyteorg/flyte-connectors","tag":"py3.13-2.0.0b50.dev3-g695bb1db3.d20260122"},"nodeSelector":{},"podAnnotations":{},"ports":{"containerPort":8000,"name":"grpc"},"priorityClassName":"","prometheusPort":{"containerPort":9090,"name":"metric"},"replicaCount":2,"resources":{"limits":{"cpu":"1.5","ephemeral-storage":"100Mi","memory":"1500Mi"},"requests":{"cpu":"1","ephemeral-storage":"100Mi","memory":"1000Mi"}},"service":{"clusterIP":"None","type":"ClusterIP"},"serviceAccount":{"annotations":{},"create":true,"imagePullSecrets":[]},"tolerations":[]}` |
| flyteconnector.additionalContainers | list | Appends additional containers to the deployment spec. May include template values. | `[]` |
| flyteconnector.additionalEnvs | list | Appends additional envs to the deployment spec. May include template values | `[]` |
| flyteconnector.additionalVolumeMounts | list | Appends additional volume mounts to the main container's spec. May include template values. | `[]` |
| flyteconnector.additionalVolumes | list | Appends additional volumes to the deployment spec. May include template values. | `[]` |
| flyteconnector.affinity | object | affinity for flyteconnector deployment | `{}` |
| flyteconnector.autoscaling | object | Horizontal pod autoscaler configuration for flyteconnector. | `{"maxReplicas":5,"minReplicas":2,"targetCPUUtilizationPercentage":80,"targetMemoryUtilizationPercentage":80}` |
| flyteconnector.autoscaling.maxReplicas | int | Maximum number of flyteconnector replicas. | `5` |
| flyteconnector.autoscaling.minReplicas | int | Minimum number of flyteconnector replicas. | `2` |
| flyteconnector.autoscaling.targetCPUUtilizationPercentage | int | Target CPU utilization percentage for scaling. | `80` |
| flyteconnector.autoscaling.targetMemoryUtilizationPercentage | int | Target memory utilization percentage for scaling. | `80` |
| flyteconnector.configPath | string | Default glob string for searching configuration files | `"/etc/flyteconnector/config/*.yaml"` |
| flyteconnector.enabled | bool | Enable or disable the flyteconnector deployment. | `false` |
| flyteconnector.extraArgs | object | Appends extra command line arguments to the main command | `{}` |
| flyteconnector.image | object | Container image configuration for flyteconnector. | `{"pullPolicy":"IfNotPresent","repository":"ghcr.io/flyteorg/flyte-connectors","tag":"py3.13-2.0.0b50.dev3-g695bb1db3.d20260122"}` |
| flyteconnector.image.pullPolicy | string | Docker image pull policy. | `"IfNotPresent"` |
| flyteconnector.image.repository | string | Docker image for flyteconnector deployment. | `"ghcr.io/flyteorg/flyte-connectors"` |
| flyteconnector.image.tag | string | Docker image tag for flyteconnector. | `"py3.13-2.0.0b50.dev3-g695bb1db3.d20260122"` |
| flyteconnector.nodeSelector | object | nodeSelector for flyteconnector deployment | `{}` |
| flyteconnector.podAnnotations | object | Annotations for flyteconnector pods | `{}` |
| flyteconnector.ports | object | gRPC port configuration for flyteconnector. | `{"containerPort":8000,"name":"grpc"}` |
| flyteconnector.ports.containerPort | int | Container port for the gRPC service. | `8000` |
| flyteconnector.ports.name | string | Port name. | `"grpc"` |
| flyteconnector.priorityClassName | string | Sets priorityClassName for datacatalog pod(s). | `""` |
| flyteconnector.prometheusPort | object | Prometheus metrics port configuration. | `{"containerPort":9090,"name":"metric"}` |
| flyteconnector.prometheusPort.containerPort | int | Container port for Prometheus metrics. | `9090` |
| flyteconnector.prometheusPort.name | string | Port name. | `"metric"` |
| flyteconnector.replicaCount | int | Replicas count for flyteconnector deployment. | `2` |
| flyteconnector.resources | object | Default resources requests and limits for flyteconnector deployment | `{"limits":{"cpu":"1.5","ephemeral-storage":"100Mi","memory":"1500Mi"},"requests":{"cpu":"1","ephemeral-storage":"100Mi","memory":"1000Mi"}}` |
| flyteconnector.service | object | Service settings for flyteconnector | `{"clusterIP":"None","type":"ClusterIP"}` |
| flyteconnector.serviceAccount | object | Configuration for service accounts for flyteconnector | `{"annotations":{},"create":true,"imagePullSecrets":[]}` |
| flyteconnector.serviceAccount.annotations | object | Annotations for ServiceAccount attached to flyteconnector pods | `{}` |
| flyteconnector.serviceAccount.create | bool | Should a service account be created for flyteconnector | `true` |
| flyteconnector.serviceAccount.imagePullSecrets | list | ImagePullSecrets to automatically assign to the service account | `[]` |
| flyteconnector.tolerations | list | tolerations for flyteconnector deployment | `[]` |
| flytepropeller | object | Flytepropeller configuration. Propeller is the workflow execution engine that processes registered workflows by evaluating node dependencies and launching task pods. | `{"additionalContainers":{},"additionalVolumeMounts":[],"additionalVolumes":[],"affinity":{},"cacheSizeMbs":0,"configPath":"/etc/flyte/config/*.yaml","enabled":true,"extraArgs":{},"nodeName":"","nodeSelector":{},"podAnnotations":{},"podEnv":{},"podLabels":{},"priorityClassName":"system-cluster-critical","replicaCount":1,"resources":{"limits":{"cpu":"3","memory":"3Gi"},"requests":{"cpu":"1","memory":"1Gi"}},"secretName":"union-secret-auth","service":{"additionalPorts":[{"name":"fasttask","port":15605,"protocol":"TCP","targetPort":15605}],"enabled":true},"serviceAccount":{"annotations":{},"imagePullSecrets":[]},"terminationMessagePolicy":"","tolerations":[],"topologySpreadConstraints":{}}` |
| flytepropeller.additionalContainers | object | Additional sidecar containers to add to the propeller pod. | `{}` |
| flytepropeller.additionalVolumeMounts | list | Appends additional volume mounts to the main container's spec. May include template values. | `[]` |
| flytepropeller.additionalVolumes | list | Appends additional volumes to the deployment spec. May include template values. | `[]` |
| flytepropeller.affinity | object | affinity for Flytepropeller deployment. | `{}` |
| flytepropeller.cacheSizeMbs | int | Maximum size in MiB for the in-memory blob cache. 0 disables caching. | `0` |
| flytepropeller.configPath | string | Default regex string for searching configuration files. | `"/etc/flyte/config/*.yaml"` |
| flytepropeller.enabled | bool | Enable or disable the Flytepropeller deployment. | `true` |
| flytepropeller.extraArgs | object | Extra arguments to pass to propeller. | `{}` |
| flytepropeller.nodeName | string | nodeName constraints for Flytepropeller deployment. | `""` |
| flytepropeller.nodeSelector | object | nodeSelector for Flytepropeller deployment. | `{}` |
| flytepropeller.podAnnotations | object | Annotations for Flytepropeller pods. | `{}` |
| flytepropeller.podEnv | object | Additional environment variables for propeller pods. | `{}` |
| flytepropeller.podLabels | object | Labels for the Flytepropeller pods. | `{}` |
| flytepropeller.priorityClassName | string | PriorityClassName for Flytepropeller pods. Set to "system-cluster-critical" to ensure propeller is scheduled even under resource pressure. | `"system-cluster-critical"` |
| flytepropeller.replicaCount | int | Replicas count for Flytepropeller deployment. | `1` |
| flytepropeller.resources | object | Default resources requests and limits for Flytepropeller deployment. | `{"limits":{"cpu":"3","memory":"3Gi"},"requests":{"cpu":"1","memory":"1Gi"}}` |
| flytepropeller.secretName | string | Name of the Kubernetes secret containing authentication credentials. | `"union-secret-auth"` |
| flytepropeller.service | object | Service configuration for propeller. | `{"additionalPorts":[{"name":"fasttask","port":15605,"protocol":"TCP","targetPort":15605}],"enabled":true}` |
| flytepropeller.service.additionalPorts | list | Additional ports to expose on the propeller service. | `[{"name":"fasttask","port":15605,"protocol":"TCP","targetPort":15605}]` |
| flytepropeller.service.enabled | bool | Enable the propeller Kubernetes service. | `true` |
| flytepropeller.serviceAccount | object | Configuration for service accounts for FlytePropeller. | `{"annotations":{},"imagePullSecrets":[]}` |
| flytepropeller.serviceAccount.annotations | object | Annotations for ServiceAccount attached to FlytePropeller pods. | `{}` |
| flytepropeller.serviceAccount.imagePullSecrets | list | ImagePullSecrets to automatically assign to the service account. | `[]` |
| flytepropeller.terminationMessagePolicy | string | Override the termination message policy for propeller pods. | `""` |
| flytepropeller.tolerations | list | tolerations for Flytepropeller deployment. | `[]` |
| flytepropeller.topologySpreadConstraints | object | topologySpreadConstraints for Flytepropeller deployment. | `{}` |
| flytepropellerwebhook | object | Configuration for the Flytepropeller webhook | `{"additionalVolumeMounts":[],"additionalVolumes":[],"affinity":{},"autoscaling":{"enabled":false,"maxReplicas":10,"metrics":[{"resource":{"name":"cpu","target":{"averageUtilization":80,"type":"Utilization"}},"type":"Resource"},{"resource":{"name":"memory","target":{"averageUtilization":80,"type":"Utilization"}},"type":"Resource"}],"minReplicas":1},"certificate":{"certManager":{"issuerRef":{}},"duration":"8760h","external":{"caCert":"","tlsCrt":"","tlsKey":""},"provider":"helm","renewBefore":"720h"},"enabled":true,"managedConfig":true,"nodeName":"","nodeSelector":{},"podAnnotations":{},"podEnv":{},"podLabels":{},"priorityClassName":"","replicaCount":1,"resources":{"limits":{"cpu":1,"ephemeral-storage":"500Mi","memory":"500Mi"},"requests":{"cpu":"200m","ephemeral-storage":"500Mi","memory":"500Mi"}},"securityContext":{"fsGroup":65534,"fsGroupChangePolicy":"Always","runAsNonRoot":true,"runAsUser":1001,"seLinuxOptions":{"type":"spc_t"}},"service":{"annotations":{"projectcontour.io/upstream-protocol.h2c":"grpc"},"port":443,"targetPort":9443,"type":"ClusterIP"},"serviceAccount":{"imagePullSecrets":[]},"tolerations":[],"topologySpreadConstraints":{},"webhook":{"configurationName":"union-pod-webhook-{{ tpl .Values.orgName . }}","failurePolicy":"Fail","reinvocationPolicy":"Never","timeoutSeconds":30,"webhooks":{"managedImage":{"enabled":false,"name":"managed-image-webhook.union.ai","objectSelector":{"matchExpressions":[{"key":"organization","operator":"Exists"},{"key":"project","operator":"Exists"},{"key":"domain","operator":"Exists"}],"matchLabels":{"organization":"{{ tpl .Values.orgName . }}"}},"path":"/mutate--v1-pod/managed-image"},"secrets":{"enabled":true,"name":"flyte-pod-webhook.flyte.org","objectSelector":{"matchLabels":{"inject-flyte-secrets":"true","organization":"{{ tpl .Values.orgName . }}"}},"path":"/mutate--v1-pod/secrets"}}}}` |
| flytepropellerwebhook.additionalVolumeMounts | list | Appends additional volume mounts to the main container's spec. May include template values. | `[]` |
| flytepropellerwebhook.additionalVolumes | list | Appends additional volumes to the deployment spec. May include template values. | `[]` |
| flytepropellerwebhook.affinity | object | affinity for webhook deployment | `{}` |
| flytepropellerwebhook.certificate | object | Configuration for webhook certificates | `{"certManager":{"issuerRef":{}},"duration":"8760h","external":{"caCert":"","tlsCrt":"","tlsKey":""},"provider":"helm","renewBefore":"720h"}` |
| flytepropellerwebhook.certificate.certManager | object | cert-manager configuration (only used when provider is "certManager") | `{"issuerRef":{}}` |
| flytepropellerwebhook.certificate.certManager.issuerRef | object | Issuer reference for cert-manager. If not set, a self-signed issuer will be created. | `{}` |
| flytepropellerwebhook.certificate.duration | string | Duration of the certificate (only used with certManager provider) | `"8760h"` |
| flytepropellerwebhook.certificate.external | object | External certificate configuration (only used when provider is "external") | `{"caCert":"","tlsCrt":"","tlsKey":""}` |
| flytepropellerwebhook.certificate.external.caCert | string | Base64-encoded CA certificate (PEM format) | `""` |
| flytepropellerwebhook.certificate.external.tlsCrt | string | Base64-encoded TLS certificate (PEM format) | `""` |
| flytepropellerwebhook.certificate.external.tlsKey | string | Base64-encoded TLS private key (PEM format) | `""` |
| flytepropellerwebhook.certificate.provider | string | `flytepropeller webhook init-certs` to populate an empty secret, then the webhook uses those certs. | `"helm"` |
| flytepropellerwebhook.certificate.renewBefore | string | Renew before duration (only used with certManager provider) | `"720h"` |
| flytepropellerwebhook.enabled | bool | enable or disable secrets webhook | `true` |
| flytepropellerwebhook.managedConfig | bool | Enable Helm-managed MutatingWebhookConfiguration (if false, the webhook will create its own) | `true` |
| flytepropellerwebhook.nodeName | string | nodeName constraints for webhook deployment | `""` |
| flytepropellerwebhook.nodeSelector | object | nodeSelector for webhook deployment | `{}` |
| flytepropellerwebhook.podAnnotations | object | Annotations for webhook pods | `{}` |
| flytepropellerwebhook.podEnv | object | Additional webhook container environment variables | `{}` |
| flytepropellerwebhook.podLabels | object | Labels for webhook pods | `{}` |
| flytepropellerwebhook.priorityClassName | string | Sets priorityClassName for webhook pod | `""` |
| flytepropellerwebhook.replicaCount | int | Replicas | `1` |
| flytepropellerwebhook.securityContext | object | Sets securityContext for webhook pod(s). | `{"fsGroup":65534,"fsGroupChangePolicy":"Always","runAsNonRoot":true,"runAsUser":1001,"seLinuxOptions":{"type":"spc_t"}}` |
| flytepropellerwebhook.service | object | Service settings for the webhook | `{"annotations":{"projectcontour.io/upstream-protocol.h2c":"grpc"},"port":443,"targetPort":9443,"type":"ClusterIP"}` |
| flytepropellerwebhook.service.port | int | HTTPS port for the webhook service | `443` |
| flytepropellerwebhook.service.targetPort | int | Target port for the webhook service (container port) | `9443` |
| flytepropellerwebhook.serviceAccount | object | Configuration for service accounts for the webhook | `{"imagePullSecrets":[]}` |
| flytepropellerwebhook.serviceAccount.imagePullSecrets | list | ImagePullSecrets to automatically assign to the service account | `[]` |
| flytepropellerwebhook.tolerations | list | tolerations for webhook deployment | `[]` |
| flytepropellerwebhook.topologySpreadConstraints | object | topologySpreadConstraints for webhook deployment | `{}` |
| flytepropellerwebhook.webhook | object | Configuration for the webhook MutatingWebhookConfiguration and certificates | `{"configurationName":"union-pod-webhook-{{ tpl .Values.orgName . }}","failurePolicy":"Fail","reinvocationPolicy":"Never","timeoutSeconds":30,"webhooks":{"managedImage":{"enabled":false,"name":"managed-image-webhook.union.ai","objectSelector":{"matchExpressions":[{"key":"organization","operator":"Exists"},{"key":"project","operator":"Exists"},{"key":"domain","operator":"Exists"}],"matchLabels":{"organization":"{{ tpl .Values.orgName . }}"}},"path":"/mutate--v1-pod/managed-image"},"secrets":{"enabled":true,"name":"flyte-pod-webhook.flyte.org","objectSelector":{"matchLabels":{"inject-flyte-secrets":"true","organization":"{{ tpl .Values.orgName . }}"}},"path":"/mutate--v1-pod/secrets"}}}` |
| flytepropellerwebhook.webhook.configurationName | string | Name of the MutatingWebhookConfiguration resource | `"union-pod-webhook-{{ tpl .Values.orgName . }}"` |
| flytepropellerwebhook.webhook.failurePolicy | string | Failure policy for the webhook (Fail or Ignore) | `"Fail"` |
| flytepropellerwebhook.webhook.reinvocationPolicy | string | Reinvocation policy for the webhook | `"Never"` |
| flytepropellerwebhook.webhook.timeoutSeconds | int | Timeout in seconds for the webhook | `30` |
| flytepropellerwebhook.webhook.webhooks | object | Webhook configurations to create | `{"managedImage":{"enabled":false,"name":"managed-image-webhook.union.ai","objectSelector":{"matchExpressions":[{"key":"organization","operator":"Exists"},{"key":"project","operator":"Exists"},{"key":"domain","operator":"Exists"}],"matchLabels":{"organization":"{{ tpl .Values.orgName . }}"}},"path":"/mutate--v1-pod/managed-image"},"secrets":{"enabled":true,"name":"flyte-pod-webhook.flyte.org","objectSelector":{"matchLabels":{"inject-flyte-secrets":"true","organization":"{{ tpl .Values.orgName . }}"}},"path":"/mutate--v1-pod/secrets"}}` |
| flytepropellerwebhook.webhook.webhooks.managedImage | object | Managed image webhook configuration (requires Union operator support) | `{"enabled":false,"name":"managed-image-webhook.union.ai","objectSelector":{"matchExpressions":[{"key":"organization","operator":"Exists"},{"key":"project","operator":"Exists"},{"key":"domain","operator":"Exists"}],"matchLabels":{"organization":"{{ tpl .Values.orgName . }}"}},"path":"/mutate--v1-pod/managed-image"}` |
| flytepropellerwebhook.webhook.webhooks.managedImage.name | string | Name of the webhook | `"managed-image-webhook.union.ai"` |
| flytepropellerwebhook.webhook.webhooks.managedImage.objectSelector | object | Object selector for the webhook (matchExpressions) | `{"matchExpressions":[{"key":"organization","operator":"Exists"},{"key":"project","operator":"Exists"},{"key":"domain","operator":"Exists"}],"matchLabels":{"organization":"{{ tpl .Values.orgName . }}"}}` |
| flytepropellerwebhook.webhook.webhooks.managedImage.path | string | Path for the webhook | `"/mutate--v1-pod/managed-image"` |
| flytepropellerwebhook.webhook.webhooks.secrets | object | Secrets injection webhook configuration | `{"enabled":true,"name":"flyte-pod-webhook.flyte.org","objectSelector":{"matchLabels":{"inject-flyte-secrets":"true","organization":"{{ tpl .Values.orgName . }}"}},"path":"/mutate--v1-pod/secrets"}` |
| flytepropellerwebhook.webhook.webhooks.secrets.name | string | Name of the webhook | `"flyte-pod-webhook.flyte.org"` |
| flytepropellerwebhook.webhook.webhooks.secrets.objectSelector | object | Object selector for the webhook | `{"matchLabels":{"inject-flyte-secrets":"true","organization":"{{ tpl .Values.orgName . }}"}}` |
| flytepropellerwebhook.webhook.webhooks.secrets.path | string | Path for the webhook | `"/mutate--v1-pod/secrets"` |
| fullnameOverride | string | Override the chart fullname. | `""` |
| global.CLIENT_ID | string | Client ID for dataplane authentication. Provided by Union team. | `""` |
| global.CLUSTER_NAME | string | Unique cluster identifier. Format: Lowercase alphanumeric with hyphens. Example: "prod-us-east-1". Must be unique within your organization. | `""` |
| global.FAST_REGISTRATION_BUCKET | string | S3 bucket for code uploads. Example: "my-union-fast-registration-bucket". Can be same as metadata bucket or separate. | `""` |
| global.METADATA_BUCKET | string | S3 bucket for workflow metadata. Example: "my-union-metadata-bucket". Bucket must exist before deployment. | `""` |
| global.ORG_NAME | string | Organization name. Format: RFC 1123 compliant (lowercase alphanumeric and hyphens). Example: "acme-corp". Provided by Union team. | `""` |
| global.UNION_CONTROL_PLANE_HOST | string | Union control plane hostname. Format: "hostname" (no protocol prefix for standard BYOC). Example: "mycompany.unionai.cloud". Provided by Union team for BYOC deployments. | `""` |
| host | string | Set the control plane host for your Union dataplane installation.  This will be provided by Union. | `"{{ .Values.global.UNION_CONTROL_PLANE_HOST }}"` |
| image | object | Container image configuration for Union services. | `{"flytecopilot":{"pullPolicy":"IfNotPresent","repository":"cr.flyte.org/flyteorg/flytecopilot","tag":"v1.14.1"},"kubeStateMetrics":{"pullPolicy":"IfNotPresent","repository":"registry.k8s.io/kube-state-metrics/kube-state-metrics","tag":"v2.11.0"},"union":{"pullPolicy":"IfNotPresent","repository":"public.ecr.aws/p0i0a9q8/unionoperator","tag":""}}` |
| image.flytecopilot | object | Flytecopilot sidecar image configuration. Copilot handles data I/O for task pods. | `{"pullPolicy":"IfNotPresent","repository":"cr.flyte.org/flyteorg/flytecopilot","tag":"v1.14.1"}` |
| image.flytecopilot.pullPolicy | string | Image pull policy. | `"IfNotPresent"` |
| image.flytecopilot.repository | string | Image repository. | `"cr.flyte.org/flyteorg/flytecopilot"` |
| image.flytecopilot.tag | string | Image tag. | `"v1.14.1"` |
| image.kubeStateMetrics | object | Kube-state-metrics image configuration. | `{"pullPolicy":"IfNotPresent","repository":"registry.k8s.io/kube-state-metrics/kube-state-metrics","tag":"v2.11.0"}` |
| image.kubeStateMetrics.pullPolicy | string | Image pull policy. | `"IfNotPresent"` |
| image.kubeStateMetrics.repository | string | Image repository. | `"registry.k8s.io/kube-state-metrics/kube-state-metrics"` |
| image.kubeStateMetrics.tag | string | Image tag. | `"v2.11.0"` |
| image.union | object | Image repository for the operator and union services. | `{"pullPolicy":"IfNotPresent","repository":"public.ecr.aws/p0i0a9q8/unionoperator","tag":""}` |
| image.union.pullPolicy | string | Image pull policy. | `"IfNotPresent"` |
| image.union.repository | string | Image repository. | `"public.ecr.aws/p0i0a9q8/unionoperator"` |
| image.union.tag | string | Image tag. Defaults to the chart appVersion if empty. | `""` |
| imageBuilder | object | Image builder configuration for building container images from Flyte ImageSpec. | `{"authenticationType":"noop","buildkit":{"additionalVolumeMounts":[],"additionalVolumes":[],"autoscaling":{"enabled":false,"maxReplicas":2,"minReplicas":1,"targetCPUUtilizationPercentage":60},"deploymentStrategy":"Recreate","enabled":true,"fullnameOverride":"","image":{"pullPolicy":"IfNotPresent","repository":"moby/buildkit","tag":"buildx-stable-1"},"log":{"debug":false,"format":"text"},"nodeSelector":{},"oci":{"maxParallelism":0},"pdb":{"minAvailable":1},"podAnnotations":{},"podEnv":[],"replicaCount":1,"resources":{"requests":{"cpu":1,"ephemeral-storage":"20Gi","memory":"1Gi"}},"rootless":true,"service":{"annotations":{},"loadbalancerIp":"","port":1234,"type":"ClusterIP"},"tolerations":[]},"buildkitUri":"","defaultRepository":"","enabled":true,"targetConfigMapName":"build-image-config"}` |
| imageBuilder.authenticationType | string | How build-image task and operator proxy will attempt to authenticate to the container registry. Supported values: "noop" (no auth), "google" (docker-credential-gcr), "aws" (docker-credential-ecr-login), "azure" (az acr login, requires Azure Workload Identity). | `"noop"` |
| imageBuilder.buildkit | object | BuildKit daemon configuration for container image builds. | `{"additionalVolumeMounts":[],"additionalVolumes":[],"autoscaling":{"enabled":false,"maxReplicas":2,"minReplicas":1,"targetCPUUtilizationPercentage":60},"deploymentStrategy":"Recreate","enabled":true,"fullnameOverride":"","image":{"pullPolicy":"IfNotPresent","repository":"moby/buildkit","tag":"buildx-stable-1"},"log":{"debug":false,"format":"text"},"nodeSelector":{},"oci":{"maxParallelism":0},"pdb":{"minAvailable":1},"podAnnotations":{},"podEnv":[],"replicaCount":1,"resources":{"requests":{"cpu":1,"ephemeral-storage":"20Gi","memory":"1Gi"}},"rootless":true,"service":{"annotations":{},"loadbalancerIp":"","port":1234,"type":"ClusterIP"},"tolerations":[]}` |
| imageBuilder.buildkit.additionalVolumeMounts | list | Additional volume mounts to add to the buildkit container. | `[]` |
| imageBuilder.buildkit.additionalVolumes | list | Additional volumes to add to the buildkit pod. | `[]` |
| imageBuilder.buildkit.autoscaling | object | Buildkit HPA configuration. | `{"enabled":false,"maxReplicas":2,"minReplicas":1,"targetCPUUtilizationPercentage":60}` |
| imageBuilder.buildkit.autoscaling.enabled | bool | Enable HPA for buildkit. | `false` |
| imageBuilder.buildkit.autoscaling.maxReplicas | int | Maximum number of buildkit replicas. | `2` |
| imageBuilder.buildkit.autoscaling.minReplicas | int | Minimum number of buildkit replicas. | `1` |
| imageBuilder.buildkit.autoscaling.targetCPUUtilizationPercentage | int | Target CPU utilization for scaling. Set lower than usual to promote faster scale out and reduce queue times for build requests. | `60` |
| imageBuilder.buildkit.deploymentStrategy | string | Deployment strategy for buildkit deployment. | `"Recreate"` |
| imageBuilder.buildkit.enabled | bool | Enable buildkit service within this release. | `true` |
| imageBuilder.buildkit.fullnameOverride | string | The name to use for the buildkit deployment, service, configmap, etc. | `""` |
| imageBuilder.buildkit.image | object | Buildkit container image configuration. | `{"pullPolicy":"IfNotPresent","repository":"moby/buildkit","tag":"buildx-stable-1"}` |
| imageBuilder.buildkit.image.pullPolicy | string | Image pull policy. | `"IfNotPresent"` |
| imageBuilder.buildkit.image.repository | string | Image repository. | `"moby/buildkit"` |
| imageBuilder.buildkit.image.tag | string | Image tag. When rootless mode is enabled, "-rootless" is appended automatically (e.g. "buildx-stable-1" becomes "buildx-stable-1-rootless") unless the tag already contains "rootless". | `"buildx-stable-1"` |
| imageBuilder.buildkit.log | object | Logging configuration for buildkit. | `{"debug":false,"format":"text"}` |
| imageBuilder.buildkit.log.debug | bool | Enable debug logging. | `false` |
| imageBuilder.buildkit.log.format | string | Log format ("text" or "json"). | `"text"` |
| imageBuilder.buildkit.nodeSelector | object | Node selector for buildkit pods. | `{}` |
| imageBuilder.buildkit.oci | object | OCI worker configuration for buildkit. | `{"maxParallelism":0}` |
| imageBuilder.buildkit.oci.maxParallelism | int | Maximum number of concurrent builds. 0 means unbounded. | `0` |
| imageBuilder.buildkit.pdb | object | Pod disruption budget for buildkit. | `{"minAvailable":1}` |
| imageBuilder.buildkit.pdb.minAvailable | int | Minimum available pods. | `1` |
| imageBuilder.buildkit.podAnnotations | object | Annotations for buildkit pods. | `{}` |
| imageBuilder.buildkit.podEnv | list | Appends additional environment variables to the buildkit container's spec. | `[]` |
| imageBuilder.buildkit.replicaCount | int | Replicas count for Buildkit deployment. | `1` |
| imageBuilder.buildkit.resources | object | Resource requests and limits for the buildkit container. | `{"requests":{"cpu":1,"ephemeral-storage":"20Gi","memory":"1Gi"}}` |
| imageBuilder.buildkit.rootless | bool | Run buildkit in rootless mode (non-privileged). Uses the moby/buildkit rootless image variant which bundles RootlessKit to set up user namespaces. Requires kernel >= 5.11 with unprivileged user namespace support. | `true` |
| imageBuilder.buildkit.service | object | Service configuration for buildkit. | `{"annotations":{},"loadbalancerIp":"","port":1234,"type":"ClusterIP"}` |
| imageBuilder.buildkit.service.annotations | object | Service annotations. | `{}` |
| imageBuilder.buildkit.service.loadbalancerIp | string | Static IP address for load balancer (only used with LoadBalancer type). | `""` |
| imageBuilder.buildkit.service.port | int | Service port. | `1234` |
| imageBuilder.buildkit.service.type | string | Service type. | `"ClusterIP"` |
| imageBuilder.buildkit.tolerations | list | Tolerations for buildkit pods. | `[]` |
| imageBuilder.buildkitUri | string | The URI of the buildkitd service. Used for externally managed buildkitd services. Leaving empty and setting imageBuilder.buildkit.enabled to true will create a buildkitd service. E.g. "tcp://buildkitd.buildkit.svc.cluster.local:1234" | `""` |
| imageBuilder.defaultRepository | string | The default repository to publish images to when "registry" is not specified with imagespec. The build-image task will fail unless "registry" is specified or a default repository is provided. | `""` |
| imageBuilder.enabled | bool | Enable or disable the image builder feature. | `true` |
| imageBuilder.targetConfigMapName | string | The config map build-image container task attempts to reference. Should not change unless coordinated with Union technical support. | `"build-image-config"` |
| ingress | object | Ingress configuration for exposing dataplane services externally. Enable this when not using Cloudflare tunnels for service access. | `{"dataproxy":{"annotations":{},"class":"","hostOverride":"","tls":{}},"enabled":false,"host":"","serving":{"annotations":{},"class":"","hostOverride":"","tls":{}}}` |
| ingress-nginx | object | Ingress-nginx subchart configuration. Disabled by default; enable if you need an ingress controller for dataplane services instead of Cloudflare tunnels. | `{"controller":{"admissionWebhooks":{"enabled":false},"allowSnippetAnnotations":true,"config":{"annotations-risk-level":"Critical","grpc-connect-timeout":"1200","grpc-read-timeout":"604800","grpc-send-timeout":"604800"},"ingressClassResource":{"controllerValue":"union.ai/dataplane","default":false,"enabled":true,"name":"dataplane"}},"enabled":false}` |
| ingress-nginx.enabled | bool | Enable or disable the ingress-nginx controller subchart. | `false` |
| ingress.dataproxy | object | Dataproxy specific ingress configuration. | `{"annotations":{},"class":"","hostOverride":"","tls":{}}` |
| ingress.dataproxy.annotations | object | Annotations to apply to the ingress resource. | `{}` |
| ingress.dataproxy.class | string | Ingress class name. | `""` |
| ingress.dataproxy.hostOverride | string | Override the ingress host. Can reference Kubernetes service DNS, e.g. dataproxy-service.{{ .Release.Namespace }}.svc.cluster.local | `""` |
| ingress.dataproxy.tls | object | Ingress TLS configuration. | `{}` |
| ingress.enabled | bool | Enable or disable ingress resources. | `false` |
| ingress.host | string | Default host for ingress rules. Omitted if empty. | `""` |
| ingress.serving | object | Serving specific ingress configuration. | `{"annotations":{},"class":"","hostOverride":"","tls":{}}` |
| ingress.serving.annotations | object | Annotations to apply to the ingress resource. | `{}` |
| ingress.serving.class | string | Ingress class name. | `""` |
| ingress.serving.hostOverride | string | (Optional) Host override for serving ingress rule. Defaults to *.apps.{{ .Values.host }}. | `""` |
| ingress.serving.tls | object | Ingress TLS configuration. | `{}` |
| knative-operator | object | Knative operator subchart. Required for app serving. | `{"crds":{"install":true},"enabled":false}` |
| knative-operator.crds | object | Install Knative CRDs. | `{"install":true}` |
| knative-operator.enabled | bool | Enable or disable the Knative operator. Must be enabled when serving.enabled is true. | `false` |
| low_privilege | bool | Scopes the deployment, permissions and actions created into a single namespace and avoids any deployments that would  require additional permissions on the cluster. This limits the functionality though. | `false` |
| metrics-server | object | Enable or disable the metrics-server subchart. Only needed if your cluster does not already have a metrics server. | `{"enabled":false}` |
| monitoring | object | Global monitoring toggle. When disabled, skips creation of ServiceMonitor and related monitoring resources. | `{"enabled":true}` |
| monitoring.enabled | bool | Enable or disable monitoring resource creation. | `true` |
| nameOverride | string | Override the chart name. | `""` |
| namespace_mapping | object | Custom namespace mapping for mapping Union runs to Kubernetes namespaces. | `{}` |
| namespaces | object | Namespace management configuration. | `{"enabled":true}` |
| namespaces.enabled | bool | Automatically create the release namespace if it does not exist. | `true` |
| nodeobserver | object | Node observer DaemonSet configuration. Monitors node health and critical DaemonSet availability to detect infrastructure issues affecting workflow execution. | `{"additionalVolumeMounts":[],"additionalVolumes":[],"affinity":{},"config":{"criticalDaemonSets":[]},"enabled":false,"nodeName":"","nodeSelector":{},"podAnnotations":{},"podEnv":[{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"fieldPath":"spec.nodeName"}}},{"name":"LOG_LEVEL","value":"4"}],"podSecurityContext":{},"resources":{"limits":{"cpu":"1","memory":"500Mi"},"requests":{"cpu":"500m","memory":"100Mi"}},"securityContext":{"capabilities":{"add":["SYS_ADMIN"]},"privileged":true,"runAsNonRoot":false,"runAsUser":0},"serviceAccount":{"annotations":{},"name":""},"tolerations":[{"effect":"NoSchedule","operator":"Exists"}],"topologySpreadConstraints":{}}` |
| nodeobserver.additionalVolumeMounts | list | Appends additional volume mounts to the main container's spec. May include template values. | `[]` |
| nodeobserver.additionalVolumes | list | Appends additional volumes to the daemonset spec. May include template values. | `[]` |
| nodeobserver.affinity | object | affinity configurations for the pods associated with nodeobserver services | `{}` |
| nodeobserver.config | object | Nodeobserver configuration. | `{"criticalDaemonSets":[]}` |
| nodeobserver.config.criticalDaemonSets | list | List of critical DaemonSets to monitor. Nodeobserver will report nodes as unhealthy if these DaemonSets are not running. | `[]` |
| nodeobserver.enabled | bool | Enable or disable nodeobserver. | `false` |
| nodeobserver.nodeName | string | nodeName constraints for the pods associated with nodeobserver services | `""` |
| nodeobserver.nodeSelector | object | nodeSelector constraints for the pods associated with nodeobserver services | `{}` |
| nodeobserver.podAnnotations | object | Additional pod annotations for the nodeobserver services | `{}` |
| nodeobserver.podEnv | list | Additional pod environment variables for the nodeobserver services | `[{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"fieldPath":"spec.nodeName"}}},{"name":"LOG_LEVEL","value":"4"}]` |
| nodeobserver.podSecurityContext | object | Pod-level security context for the nodeobserver. | `{}` |
| nodeobserver.resources | object | Kubernetes resource configuration for the nodeobserver service | `{"limits":{"cpu":"1","memory":"500Mi"},"requests":{"cpu":"500m","memory":"100Mi"}}` |
| nodeobserver.securityContext | object | Container-level security context for the nodeobserver. Requires privileged access for node-level inspection. | `{"capabilities":{"add":["SYS_ADMIN"]},"privileged":true,"runAsNonRoot":false,"runAsUser":0}` |
| nodeobserver.serviceAccount | object | Service account configuration for the nodeobserver. | `{"annotations":{},"name":""}` |
| nodeobserver.serviceAccount.annotations | object | Annotations for the nodeobserver service account. | `{}` |
| nodeobserver.serviceAccount.name | string | Override the service account name for the nodeobserver. | `""` |
| nodeobserver.tolerations | list | tolerations for the pods associated with nodeobserver services | `[{"effect":"NoSchedule","operator":"Exists"}]` |
| nodeobserver.topologySpreadConstraints | object | topologySpreadConstraints for the pods associated with nodeobserver services | `{}` |
| objectStore | object | Union Object Store service configuration. Provides an internal API for accessing object storage. | `{"service":{"grpcPort":8089,"httpPort":8080}}` |
| objectStore.service | object | Service port configuration. | `{"grpcPort":8089,"httpPort":8080}` |
| objectStore.service.grpcPort | int | gRPC port for the object store service. | `8089` |
| objectStore.service.httpPort | int | HTTP port for the object store service. | `8080` |
| opencost | object | OpenCost subchart configuration for cost allocation and monitoring. | `{"enabled":true,"fullnameOverride":"opencost","opencost":{"exporter":{"resources":{"limits":{"cpu":"1000m","memory":"4Gi"},"requests":{"cpu":"500m","memory":"1Gi"}}},"prometheus":{"external":{"enabled":true,"url":"http://union-operator-prometheus.{{.Release.Namespace}}.svc:80/prometheus"},"internal":{"enabled":false}},"ui":{"enabled":false}}}` |
| opencost.enabled | bool | Enable or disable the opencost installation. | `true` |
| opencost.opencost | object | OpenCost application configuration. | `{"exporter":{"resources":{"limits":{"cpu":"1000m","memory":"4Gi"},"requests":{"cpu":"500m","memory":"1Gi"}}},"prometheus":{"external":{"enabled":true,"url":"http://union-operator-prometheus.{{.Release.Namespace}}.svc:80/prometheus"},"internal":{"enabled":false}},"ui":{"enabled":false}}` |
| operator | object | Union operator deployment configuration. The operator manages cluster lifecycle, usage reporting, heartbeat checks, and tunnel connectivity to the Union control plane. | `{"additionalVolumeMounts":[],"additionalVolumes":[],"affinity":{},"autoscaling":{"enabled":false},"enableTunnelService":true,"imagePullSecrets":[],"nodeName":"","nodeSelector":{},"podAnnotations":{},"podEnv":{},"podLabels":{},"podSecurityContext":{},"priorityClassName":"","replicas":1,"resources":{"limits":{"cpu":"2","memory":"3Gi"},"requests":{"cpu":"1","memory":"1Gi"}},"secretName":"union-secret-auth","securityContext":{},"serviceAccount":{"annotations":{},"create":true,"name":"operator-system"},"tolerations":[],"topologySpreadConstraints":{}}` |
| operator.additionalVolumeMounts | list | Appends additional volume mounts to the main container's spec. May include template values. | `[]` |
| operator.additionalVolumes | list | Appends additional volumes to the deployment spec. May include template values. | `[]` |
| operator.affinity | object | affinity configurations for the operator pods. | `{}` |
| operator.autoscaling | object | Horizontal pod autoscaler configuration for the operator. | `{"enabled":false}` |
| operator.autoscaling.enabled | bool | Enable HPA for the operator deployment. | `false` |
| operator.enableTunnelService | bool | Enable the Cloudflare tunnel service for secure control plane connectivity. | `true` |
| operator.imagePullSecrets | list | Image pull secrets for the operator deployment. | `[]` |
| operator.nodeName | string | nodeName constraints for the operator pods. | `""` |
| operator.nodeSelector | object | nodeSelector constraints for the operator pods. | `{}` |
| operator.podAnnotations | object | Annotations for operator pods. | `{}` |
| operator.podEnv | object | Additional environment variables for operator pods. | `{}` |
| operator.podLabels | object | Labels for operator pods. | `{}` |
| operator.podSecurityContext | object | Pod-level security context for the operator. | `{}` |
| operator.priorityClassName | string | PriorityClassName for operator pods. | `""` |
| operator.replicas | int | Number of operator replicas. | `1` |
| operator.resources | object | Resource requests and limits for the operator deployment. | `{"limits":{"cpu":"2","memory":"3Gi"},"requests":{"cpu":"1","memory":"1Gi"}}` |
| operator.secretName | string | Name of the Kubernetes secret containing authentication credentials. | `"union-secret-auth"` |
| operator.securityContext | object | Container-level security context for the operator. | `{}` |
| operator.serviceAccount | object | Service account configuration for the operator. | `{"annotations":{},"create":true,"name":"operator-system"}` |
| operator.serviceAccount.annotations | object | Annotations for the operator service account (e.g., for cloud IAM role binding). | `{}` |
| operator.serviceAccount.create | bool | Create a dedicated service account for the operator. | `true` |
| operator.serviceAccount.name | string | Name of the operator service account. | `"operator-system"` |
| operator.tolerations | list | tolerations for the operator pods. | `[]` |
| operator.topologySpreadConstraints | object | topologySpreadConstraints for the operator pods. | `{}` |
| orgName | string | Organization name should be provided by Union. | `"{{ .Values.global.ORG_NAME }}"` |
| prometheus | object | Prometheus configuration (kube-prometheus-stack subchart). This section configures kube-prometheus-stack for monitoring the Union dataplane. By default, most Kubernetes component monitoring is disabled to reduce resource usage. Enable specific components as needed for your observability requirements. | `{"additionalPrometheusRulesMap":{},"alertmanager":{"enabled":false},"crds":{"enabled":true},"defaultRules":{"create":false,"rules":{"alertmanager":false,"configReloaders":false,"etcd":false,"general":false,"k8sContainerCpuUsageSecondsTotal":false,"k8sContainerMemoryCache":false,"k8sContainerMemoryRss":false,"k8sContainerMemorySwap":false,"k8sContainerMemoryWorkingSetBytes":false,"k8sContainerResource":false,"k8sPodOwner":false,"kubeApiserverAvailability":false,"kubeApiserverBurnrate":false,"kubeApiserverHistogram":false,"kubeApiserverSlos":false,"kubeControllerManager":false,"kubePrometheusGeneral":false,"kubePrometheusNodeRecording":false,"kubeProxy":false,"kubeSchedulerAlerting":false,"kubeSchedulerRecording":false,"kubeStateMetrics":false,"kubelet":false,"kubernetesApps":false,"kubernetesResources":false,"kubernetesStorage":false,"kubernetesSystem":false,"network":false,"node":false,"nodeExporterAlerting":false,"nodeExporterRecording":false,"prometheus":false,"prometheusOperator":false,"windows":false}},"enabled":true,"fullnameOverride":"union-operator","grafana":{"additionalDataSources":[],"admin":{"existingSecret":"","passwordKey":"admin-password","userKey":"admin-user"},"adminPassword":"union-dataplane","adminUser":"admin","dashboardsConfigMaps":{},"enabled":false,"ingress":{"enabled":false}},"ingress":{"annotations":{},"enabled":false,"hosts":[]},"kube-state-metrics":{"metricRelabelings":[{"action":"keep","regex":"kube_pod_container_resource_(limits|requests)|kube_pod_status_phase|kube_node_(labels|status_allocatable|status_condition|status_capacity)|kube_namespace_labels|kube_pod_container_status_(waiting|terminated|last_terminated).*_reason|kube_daemonset_status_number_unavailable|kube_deployment_status_replicas_unavailable|kube_resourcequota|kube_pod_info|kube_node_info|kube_pod_container_status_restarts_total","separator":";","sourceLabels":["__name__"]},{"action":"drop","regex":"kube_pod_status_phase;(Succeeded|Failed)","separator":";","sourceLabels":["__name__","phase"]},{"action":"replace","regex":"(.*)","sourceLabels":["node"],"targetLabel":"nodename"},{"action":"replace","regex":"(.+)","sourceLabels":["label_node_group_name"],"targetLabel":"label_node_pool_name"}],"namespaceOverride":"kube-system"},"kubeApiServer":{"enabled":false},"nameOverride":"","namespaceOverride":"","nodeExporter":{"enabled":false},"prometheus":{"enabled":true,"prometheusSpec":{"maximumStartupDurationSeconds":900,"podMonitorSelector":{},"podMonitorSelectorNilUsesHelmValues":false,"resources":{"limits":{"cpu":"3","memory":"3500Mi"},"requests":{"cpu":"1","memory":"1Gi"}},"retention":"3d","routePrefix":"/prometheus/","ruleSelector":{},"ruleSelectorNilUsesHelmValues":false,"scrapeConfigSelector":{},"scrapeConfigSelectorNilUsesHelmValues":false,"serviceMonitorSelector":{},"serviceMonitorSelectorNilUsesHelmValues":false},"service":{"port":80}},"prometheus-node-exporter":{"namespaceOverride":"kube-system"},"prometheusOperator":{"fullnameOverride":"prometheus-operator"}}` |
| prometheus.additionalPrometheusRulesMap | object | Additional Prometheus recording or alerting rules. | `{}` |
| prometheus.alertmanager | object | Alertmanager configuration. | `{"enabled":false}` |
| prometheus.alertmanager.enabled | bool | Enable or disable the Alertmanager deployment. | `false` |
| prometheus.crds | object | Prometheus Operator CRD configuration. | `{"enabled":true}` |
| prometheus.crds.enabled | bool | Install Prometheus Operator CRDs. | `true` |
| prometheus.defaultRules | object | Default Prometheus alerting and recording rules. | `{"create":false,"rules":{"alertmanager":false,"configReloaders":false,"etcd":false,"general":false,"k8sContainerCpuUsageSecondsTotal":false,"k8sContainerMemoryCache":false,"k8sContainerMemoryRss":false,"k8sContainerMemorySwap":false,"k8sContainerMemoryWorkingSetBytes":false,"k8sContainerResource":false,"k8sPodOwner":false,"kubeApiserverAvailability":false,"kubeApiserverBurnrate":false,"kubeApiserverHistogram":false,"kubeApiserverSlos":false,"kubeControllerManager":false,"kubePrometheusGeneral":false,"kubePrometheusNodeRecording":false,"kubeProxy":false,"kubeSchedulerAlerting":false,"kubeSchedulerRecording":false,"kubeStateMetrics":false,"kubelet":false,"kubernetesApps":false,"kubernetesResources":false,"kubernetesStorage":false,"kubernetesSystem":false,"network":false,"node":false,"nodeExporterAlerting":false,"nodeExporterRecording":false,"prometheus":false,"prometheusOperator":false,"windows":false}}` |
| prometheus.defaultRules.create | bool | Create default alerting and recording rules. | `false` |
| prometheus.defaultRules.rules | object | Disable specific rules by name disabled:   KubeAPIDown: true   KubeAPITerminatedRequests: true | `{"alertmanager":false,"configReloaders":false,"etcd":false,"general":false,"k8sContainerCpuUsageSecondsTotal":false,"k8sContainerMemoryCache":false,"k8sContainerMemoryRss":false,"k8sContainerMemorySwap":false,"k8sContainerMemoryWorkingSetBytes":false,"k8sContainerResource":false,"k8sPodOwner":false,"kubeApiserverAvailability":false,"kubeApiserverBurnrate":false,"kubeApiserverHistogram":false,"kubeApiserverSlos":false,"kubeControllerManager":false,"kubePrometheusGeneral":false,"kubePrometheusNodeRecording":false,"kubeProxy":false,"kubeSchedulerAlerting":false,"kubeSchedulerRecording":false,"kubeStateMetrics":false,"kubelet":false,"kubernetesApps":false,"kubernetesResources":false,"kubernetesStorage":false,"kubernetesSystem":false,"network":false,"node":false,"nodeExporterAlerting":false,"nodeExporterRecording":false,"prometheus":false,"prometheusOperator":false,"windows":false}` |
| prometheus.defaultRules.rules.kubeApiserverAvailability | bool | API Server availability alerts (e.g., KubeAPIDown, KubeAPITerminatedRequests) | `false` |
| prometheus.defaultRules.rules.kubeApiserverBurnrate | bool | API Server burn rate alerts for SLO monitoring | `false` |
| prometheus.defaultRules.rules.kubeApiserverHistogram | bool | API Server latency histogram recording rules | `false` |
| prometheus.defaultRules.rules.kubeApiserverSlos | bool | API Server SLO (Service Level Objective) rules | `false` |
| prometheus.defaultRules.rules.kubeControllerManager | bool | Uncomment to enable: SLO-based alerting for API server performance kubeApiserverSlos: true | `false` |
| prometheus.enabled | bool | Enable or disable the kube-prometheus-stack deployment. | `true` |
| prometheus.grafana | object | Grafana configuration for visualization dashboards. | `{"additionalDataSources":[],"admin":{"existingSecret":"","passwordKey":"admin-password","userKey":"admin-user"},"adminPassword":"union-dataplane","adminUser":"admin","dashboardsConfigMaps":{},"enabled":false,"ingress":{"enabled":false}}` |
| prometheus.grafana.additionalDataSources | list | Additional data sources (e.g., Loki for logs) | `[]` |
| prometheus.grafana.admin | object | Use existing secret for admin credentials (recommended for production) | `{"existingSecret":"","passwordKey":"admin-password","userKey":"admin-user"}` |
| prometheus.grafana.adminPassword | string | Default admin password (change in production!). | `"union-dataplane"` |
| prometheus.grafana.adminUser | string | Default admin username (change in production!). | `"admin"` |
| prometheus.grafana.dashboardsConfigMaps | object | Custom dashboards can be configured with additional ConfigMaps Format: <configmap-name>: <folder-name> | `{}` |
| prometheus.grafana.enabled | bool | Enable or disable the Grafana deployment. | `false` |
| prometheus.grafana.ingress | object | Ingress configuration for external Grafana access | `{"enabled":false}` |
| prometheus.ingress | object | Prometheus ingress configuration for external access to the Prometheus UI. | `{"annotations":{},"enabled":false,"hosts":[]}` |
| prometheus.ingress.annotations | object | Annotations for the Prometheus ingress resource. | `{}` |
| prometheus.ingress.enabled | bool | Enable or disable ingress for Prometheus. | `false` |
| prometheus.ingress.hosts | list | Hosts for the Prometheus ingress resource. | `[]` |
| prometheus.kube-state-metrics | object | Kube-state-metrics subchart configuration. Provides Kubernetes object metrics to Prometheus. | `{"metricRelabelings":[{"action":"keep","regex":"kube_pod_container_resource_(limits|requests)|kube_pod_status_phase|kube_node_(labels|status_allocatable|status_condition|status_capacity)|kube_namespace_labels|kube_pod_container_status_(waiting|terminated|last_terminated).*_reason|kube_daemonset_status_number_unavailable|kube_deployment_status_replicas_unavailable|kube_resourcequota|kube_pod_info|kube_node_info|kube_pod_container_status_restarts_total","separator":";","sourceLabels":["__name__"]},{"action":"drop","regex":"kube_pod_status_phase;(Succeeded|Failed)","separator":";","sourceLabels":["__name__","phase"]},{"action":"replace","regex":"(.*)","sourceLabels":["node"],"targetLabel":"nodename"},{"action":"replace","regex":"(.+)","sourceLabels":["label_node_group_name"],"targetLabel":"label_node_pool_name"}],"namespaceOverride":"kube-system"}` |
| prometheus.kubeApiServer | object | -------------------------------------------------------------------------- Enable kubeApiServer to collect metrics from the Kubernetes API server. This provides insights into API request latencies, error rates, and throughput. Note: Requires appropriate RBAC permissions and network access to the API server. | `{"enabled":false}` |
| prometheus.nodeExporter | object | Node exporter configuration for collecting host-level metrics. | `{"enabled":false}` |
| prometheus.nodeExporter.enabled | bool | Enable or disable the node exporter DaemonSet. | `false` |
| prometheus.prometheus | object | Prometheus server configuration. | `{"enabled":true,"prometheusSpec":{"maximumStartupDurationSeconds":900,"podMonitorSelector":{},"podMonitorSelectorNilUsesHelmValues":false,"resources":{"limits":{"cpu":"3","memory":"3500Mi"},"requests":{"cpu":"1","memory":"1Gi"}},"retention":"3d","routePrefix":"/prometheus/","ruleSelector":{},"ruleSelectorNilUsesHelmValues":false,"scrapeConfigSelector":{},"scrapeConfigSelectorNilUsesHelmValues":false,"serviceMonitorSelector":{},"serviceMonitorSelectorNilUsesHelmValues":false},"service":{"port":80}}` |
| prometheus.prometheus-node-exporter | object | Prometheus node-exporter subchart configuration. | `{"namespaceOverride":"kube-system"}` |
| prometheus.prometheus.enabled | bool | Enable the Prometheus server. | `true` |
| prometheus.prometheus.prometheusSpec | object | Prometheus server spec configuration. | `{"maximumStartupDurationSeconds":900,"podMonitorSelector":{},"podMonitorSelectorNilUsesHelmValues":false,"resources":{"limits":{"cpu":"3","memory":"3500Mi"},"requests":{"cpu":"1","memory":"1Gi"}},"retention":"3d","routePrefix":"/prometheus/","ruleSelector":{},"ruleSelectorNilUsesHelmValues":false,"scrapeConfigSelector":{},"scrapeConfigSelectorNilUsesHelmValues":false,"serviceMonitorSelector":{},"serviceMonitorSelectorNilUsesHelmValues":false}` |
| prometheus.prometheus.prometheusSpec.maximumStartupDurationSeconds | int | Maximum time in seconds for Prometheus startup before it is considered failed. | `900` |
| prometheus.prometheus.prometheusSpec.resources | object | Resource requests and limits for the Prometheus server. | `{"limits":{"cpu":"3","memory":"3500Mi"},"requests":{"cpu":"1","memory":"1Gi"}}` |
| prometheus.prometheus.prometheusSpec.retention | string | How long to retain metrics data. | `"3d"` |
| prometheus.prometheus.prometheusSpec.routePrefix | string | URL path prefix for the Prometheus web UI. | `"/prometheus/"` |
| prometheus.prometheusOperator | object | Prometheus Operator configuration. | `{"fullnameOverride":"prometheus-operator"}` |
| proxy | object | Union operator proxy configuration. The proxy serves as the dataplane's API gateway, handling data uploads/downloads, secret management, and image building requests. | `{"additionalVolumeMounts":[],"additionalVolumes":[],"affinity":{},"autoscaling":{"enabled":false,"maxReplicas":10,"minReplicas":1,"targetCPUUtilizationPercentage":80},"enableTunnelService":true,"imagePullSecrets":[],"nodeName":"","nodeSelector":{},"podAnnotations":{},"podEnv":{},"podLabels":{},"podSecurityContext":{},"priorityClassName":"","replicas":1,"resources":{"limits":{"cpu":"3","memory":"3Gi"},"requests":{"cpu":"500m","memory":"500Mi"}},"secretManager":{"enabled":true,"namespace":"","type":"K8s"},"secretName":"union-secret-auth","securityContext":{},"serviceAccount":{"annotations":{},"create":true,"name":"proxy-system"},"tolerations":[],"topologySpreadConstraints":{},"tunnel_resources":{"limits":{"cpu":"3","memory":"3Gi"},"requests":{"cpu":"500m","memory":"500Mi"}}}` |
| proxy.additionalVolumeMounts | list | Appends additional volume mounts to the main container's spec. May include template values. | `[]` |
| proxy.additionalVolumes | list | Appends additional volumes to the deployment spec. May include template values. | `[]` |
| proxy.affinity | object | affinity configurations for the proxy pods. | `{}` |
| proxy.autoscaling | object | Horizontal pod autoscaler configuration for the proxy. | `{"enabled":false,"maxReplicas":10,"minReplicas":1,"targetCPUUtilizationPercentage":80}` |
| proxy.autoscaling.enabled | bool | Enable HPA for the proxy deployment. | `false` |
| proxy.autoscaling.maxReplicas | int | Maximum number of proxy replicas. | `10` |
| proxy.autoscaling.minReplicas | int | Minimum number of proxy replicas. | `1` |
| proxy.autoscaling.targetCPUUtilizationPercentage | int | Target CPU utilization percentage for scaling. | `80` |
| proxy.enableTunnelService | bool | Enable the Cloudflare tunnel service for secure control plane connectivity. | `true` |
| proxy.imagePullSecrets | list | Image pull secrets for the proxy deployment. | `[]` |
| proxy.nodeName | string | nodeName constraint for the proxy pods. | `""` |
| proxy.nodeSelector | object | nodeSelector constraints for the proxy pods. | `{}` |
| proxy.podAnnotations | object | Annotations for proxy pods. | `{}` |
| proxy.podEnv | object | Additional environment variables for proxy pods. | `{}` |
| proxy.podLabels | object | Labels for proxy pods. | `{}` |
| proxy.podSecurityContext | object | Pod-level security context for the proxy. | `{}` |
| proxy.priorityClassName | string | PriorityClassName for proxy pods. | `""` |
| proxy.replicas | int | Number of proxy replicas. | `1` |
| proxy.resources | object | Resource requests and limits for the proxy container. | `{"limits":{"cpu":"3","memory":"3Gi"},"requests":{"cpu":"500m","memory":"500Mi"}}` |
| proxy.secretManager | object | Secret manager configuration for the proxy. Manages user-defined secrets for workflows. | `{"enabled":true,"namespace":"","type":"K8s"}` |
| proxy.secretManager.enabled | bool | Enable secret manager support for storing and injecting workflow secrets. | `true` |
| proxy.secretManager.namespace | string | Set the namespace for union managed secrets created through the native Kubernetes secret manager. If the namespace is not set, the release namespace will be used. | `""` |
| proxy.secretManager.type | string | The type of secret manager to use. Supported: "K8s" (native Kubernetes secrets). | `"K8s"` |
| proxy.secretName | string | Name of the Kubernetes secret containing authentication credentials. | `"union-secret-auth"` |
| proxy.securityContext | object | Container-level security context for the proxy. | `{}` |
| proxy.serviceAccount | object | Service account configuration for the proxy. | `{"annotations":{},"create":true,"name":"proxy-system"}` |
| proxy.serviceAccount.annotations | object | Annotations for the proxy service account (e.g., for cloud IAM role binding). | `{}` |
| proxy.serviceAccount.create | bool | Create a dedicated service account for the proxy. | `true` |
| proxy.serviceAccount.name | string | Name of the proxy service account. | `"proxy-system"` |
| proxy.tolerations | list | tolerations for the proxy pods. | `[]` |
| proxy.topologySpreadConstraints | object | topologySpreadConstraints for the proxy pods. | `{}` |
| proxy.tunnel_resources | object | Resource requests and limits for the Cloudflare tunnel sidecar container. | `{"limits":{"cpu":"3","memory":"3Gi"},"requests":{"cpu":"500m","memory":"500Mi"}}` |
| resourcequota | object | Create global resource quotas for the cluster. | `{"create":false}` |
| scheduling | object | Global kubernetes scheduling constraints that will be applied to the pods.  Application specific constraints will always take precedence. | `{"affinity":{},"nodeName":"","nodeSelector":{},"tolerations":[],"topologySpreadConstraints":{}}` |
| scheduling.affinity | object | See https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node | `{}` |
| scheduling.nodeSelector | object | See https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node | `{}` |
| scheduling.tolerations | list | See https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration | `[]` |
| scheduling.topologySpreadConstraints | object | See https://kubernetes.io/docs/concepts/scheduling-eviction/topology-spread-constraints | `{}` |
| secrets | object | Connection secrets for the Union control plane services. | `{"admin":{"clientId":"dataplane-operator","clientSecret":"","create":true,"enable":true}}` |
| secrets.admin.clientId | string | The client id used to authenticate to the control plane.  This will be provided by Union. | `"dataplane-operator"` |
| secrets.admin.clientSecret | string | The client secret used to authenticate to the control plane.  This will be provided by Union. | `""` |
| secrets.admin.create | bool | Create the secret resource containing the client id and secret.  If set to false the user is responsible for creating the secret before the installation. | `true` |
| secrets.admin.enable | bool | Enable or disable the admin secret.  This is used to authenticate to the control plane. | `true` |
| serving | object | Configure app serving and knative. | `{"auth":{"enabled":true},"enabled":false,"extraConfig":{},"metrics":true,"replicas":2,"resources":{"3scale-kourier-gateway":{"kourier-gateway":{"limits":{"cpu":"2","memory":"2Gi"},"requests":{"cpu":"1","memory":"1Gi"}}},"net-kourier-controller":{"controller":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"500Mi"}}}}}` |
| serving.auth | object | Union authentication and authorization configuration. | `{"enabled":true}` |
| serving.auth.enabled | bool | Disabling is common if not leveraging Union Cloud SSO. | `true` |
| serving.enabled | bool | Enables the serving components. Installs Knative Serving. Knative-Operator must be running in the cluster for this to work. Enables app serving in operator. | `false` |
| serving.extraConfig | object | Additional configuration for Knative serving | `{}` |
| serving.metrics | bool | Enables scraping of metrics from the serving component | `true` |
| serving.replicas | int | The number of replicas to create for all components for high availability. | `2` |
| serving.resources | object | Resources for serving components | `{"3scale-kourier-gateway":{"kourier-gateway":{"limits":{"cpu":"2","memory":"2Gi"},"requests":{"cpu":"1","memory":"1Gi"}}},"net-kourier-controller":{"controller":{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"500Mi"}}}}` |
| sparkoperator | object | Spark operator integration configuration. | `{"enabled":false,"plugin_config":{}}` |
| sparkoperator.enabled | bool | Enable or disable the Spark operator integration. | `false` |
| sparkoperator.plugin_config | object | Plugin configuration for the Spark operator. | `{}` |
| storage | object | Object storage configuration used by all Union services. | `{"accessKey":"","authType":"accesskey","bucketName":"{{ .Values.global.METADATA_BUCKET }}","cache":{"maxSizeMBs":0,"targetGCPercent":70},"custom":{},"disableSSL":false,"enableMultiContainer":false,"endpoint":"","fastRegistrationBucketName":"{{ .Values.global.FAST_REGISTRATION_BUCKET }}","fastRegistrationURL":"","gcp":{"projectId":""},"injectPodEnvVars":true,"limits":{"maxDownloadMBs":1024},"metadataPrefix":"","provider":"compat","region":"us-east-1","s3ForcePathStyle":true,"secretKey":""}` |
| storage.accessKey | string | The access key used for object storage. | `""` |
| storage.authType | string | The authentication type.  Currently supports "accesskey" and "iam". | `"accesskey"` |
| storage.bucketName | string | The bucket name used for object storage. | `"{{ .Values.global.METADATA_BUCKET }}"` |
| storage.cache | object | Cache configuration for objects retrieved from object storage. | `{"maxSizeMBs":0,"targetGCPercent":70}` |
| storage.custom | object | Define custom configurations for the object storage.  Only used if the provider is set to "custom". | `{}` |
| storage.disableSSL | bool | Disable SSL for object storage.  This should only used for local/sandbox installations. | `false` |
| storage.endpoint | string | Define or override the endpoint used for the object storage service. | `""` |
| storage.fastRegistrationBucketName | string | The bucket name used for fast registration uploads. | `"{{ .Values.global.FAST_REGISTRATION_BUCKET }}"` |
| storage.fastRegistrationURL | string | Override the URL for signed fast registration uploads.  This is only used for local/sandbox installations. | `""` |
| storage.gcp | object | Define GCP specific configuration for object storage. | `{"projectId":""}` |
| storage.injectPodEnvVars | bool | Injects the object storage access information into the pod environment variables.  Needed for providers that only support access and secret key based authentication. | `true` |
| storage.limits | object | Internal service limits for object storage access. | `{"maxDownloadMBs":1024}` |
| storage.metadataPrefix | string | Example for Azure: "abfs://my-container@mystorageaccount.dfs.core.windows.net" | `""` |
| storage.provider | string | The storage provider to use.  Currently supports "compat", "aws", "oci", and "custom". | `"compat"` |
| storage.region | string | The bucket region used for object storage. | `"us-east-1"` |
| storage.s3ForcePathStyle | bool | Use path style instead of domain style urls to access the object storage service. | `true` |
| storage.secretKey | string | The secret key used for object storage. | `""` |
| userRoleAnnotationKey | string | This is the annotation key that is added to service accounts.  Used with GCP and AWS. | `"eks.amazonaws.com/role-arn"` |
| userRoleAnnotationValue | string | This is the value of the annotation key that is added to service accounts. Used with GCP and AWS. | `"arn:aws:iam::ACCOUNT_ID:role/flyte_project_role"` |
